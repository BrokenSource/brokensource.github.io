
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Code reference for the ShaderFlow/Scene.py file of the ShaderFlow project">
      
      
        <meta name="author" content="Tremeschin">
      
      
        <link rel="canonical" href="https://brokensrc.dev/code/shaderflow/scene/">
      
      
        <link rel="prev" href="../module/">
      
      
        <link rel="next" href="../shader/">
      
      
      <link rel="icon" href="../../../resources/images/broken.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Scene - Broken Source Software</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m1 5h-2v4H7v2h4v4h2v-4h4v-2h-4z"/></svg>');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,700,700i%7CCascadia+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Rubik";--md-code-font:"Cascadia Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Scene - Broken Source Software" >
      
        <meta  property="og:description"  content="Code reference for the ShaderFlow/Scene.py file of the ShaderFlow project" >
      
        <meta  property="og:image"  content="https://brokensrc.dev/assets/images/social/code/shaderflow/scene.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://brokensrc.dev/code/shaderflow/scene/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Scene - Broken Source Software" >
      
        <meta  name="twitter:description"  content="Code reference for the ShaderFlow/Scene.py file of the ShaderFlow project" >
      
        <meta  name="twitter:image"  content="https://brokensrc.dev/assets/images/social/code/shaderflow/scene.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#file-shaderflowscenepy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  ✅ &nbsp; This website is a <b>Work in Progress</b> and the Software is in <b>Alpha (0.x) versions</b>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Broken Source Software" class="md-header__button md-logo" aria-label="Broken Source Software" data-md-component="logo">
      
  <img src="../../../resources/images/broken.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Broken Source Software
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Scene
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-blue"  aria-label="Switch to Light Mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to Light Mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="light-blue"  aria-label="Switch to Dark Mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to Dark Mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/BrokenSource/BrokenSource/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../broken/" class="md-tabs__link">
          
  
    
  
  Library

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../depthflow/" class="md-tabs__link">
          
  
    
  
  DepthFlow

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../shaderflow/" class="md-tabs__link">
          
  
    
  
  ShaderFlow

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../pianola/" class="md-tabs__link">
          
  
    
  
  Pianola

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../spectronote/" class="md-tabs__link">
          
  
    
  
  SpectroNote

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../insiders/" class="md-tabs__link">
          
  
    
  
  Insiders

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Broken Source Software" class="md-nav__button md-logo" aria-label="Broken Source Software" data-md-component="logo">
      
  <img src="../../../resources/images/broken.png" alt="logo">

    </a>
    Broken Source Software
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/BrokenSource/BrokenSource/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../.." class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Home
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../broken/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Library
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../depthflow/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    DepthFlow
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shaderflow/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ShaderFlow
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ShaderFlow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../shaderflow/quick/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Quick start
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Quick start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shaderflow/quick/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ✅ Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../shaderflow/quick/examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ⭐️ Examples
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Learn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../shaderflow/module/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Core
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../shaderflow/modules/camera/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Code reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Code reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4_1" id="__nav_4_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    📦 Package
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4_1">
            <span class="md-nav__icon md-icon"></span>
            📦 Package
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../__init__/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    __init__
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../__main__/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    __main__
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Message
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Scene
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Scene
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ShaderFlow.Scene" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;Scene
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Scene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WindowBackend
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" WindowBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend.Headless" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Headless
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend.GLFW" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;GLFW
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ShaderScene
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ShaderScene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__name__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;__name__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.modules" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ffmpeg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frametimer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frametimer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.keyboard" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;keyboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.camera" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;camera
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.shader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;shader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.alpha" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;alpha
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.quality" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.typer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;typer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scene_panel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scene_panel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__post__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.cli" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.time" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.start" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.speed" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.runtime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;runtime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.fps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.dt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;dt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.rdt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rdt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.tau" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.cycle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frametime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frametime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.set_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.total_frames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;total_frames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.title" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;title
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resizable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;resizable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.fullscreen" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fullscreen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.exclusive" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;exclusive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.visible" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;visible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.hidden" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hidden
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.glfw_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;glfw_monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.glfw_video_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;glfw_video_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_framerate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_framerate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_width" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_height" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_height
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scale" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.width" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.height" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;height
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.ssaa" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ssaa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resolution" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.render_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;render_resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.aspect_ratio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;aspect_ratio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;resize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.backend" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.opengl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;opengl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.window" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.imgui" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;imgui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.imguio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;imguio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.init_window" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init_window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.read_screen" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_screen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.read_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scheduler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.vsync" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;vsync
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.quit" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;quit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.on_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;on_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.next" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;next
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.realtime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;realtime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.exporting" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;exporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.freewheel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;freewheel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.headless" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;headless
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.loop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.index" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.export_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;export_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.main" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.handle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;handle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_resize__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_resize__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_close__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_close__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_iconify__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_iconify__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_files_dropped_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_files_dropped_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_key_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_key_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_unicode_char_entered__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_unicode_char_entered__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_gluv" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_gluv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__xy2uv__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__xy2uv__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__dxdy2dudv__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__dxdy2dudv__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_buttons" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_buttons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_press_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_press_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_release_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_release_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_inside" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_enter_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_enter_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_scroll_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_scroll_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_position_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_position_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_drag_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_drag_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.render_ui" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;render_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__ui__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__ui__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../texture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Texture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../common/__init__/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Common
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../modules/__init__/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../pianola/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Pianola
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../spectronote/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    SpectroNote
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../insiders/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Insiders
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ShaderFlow.Scene" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;Scene
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Scene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WindowBackend
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" WindowBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend.Headless" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Headless
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.WindowBackend.GLFW" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;GLFW
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ShaderScene
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ShaderScene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__name__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;__name__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.modules" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.ffmpeg" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ffmpeg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frametimer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frametimer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.keyboard" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;keyboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.camera" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;camera
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.shader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;shader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.alpha" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;alpha
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.quality" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.typer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;typer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scene_panel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scene_panel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__post__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.cli" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.time" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.start" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.speed" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.runtime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;runtime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.fps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.dt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;dt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.rdt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rdt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.tau" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.cycle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frametime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frametime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.set_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.total_frames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;total_frames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.title" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;title
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resizable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;resizable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.fullscreen" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fullscreen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.exclusive" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;exclusive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.visible" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;visible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.hidden" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hidden
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.glfw_monitor" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;glfw_monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.glfw_video_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;glfw_video_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_framerate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_framerate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_width" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.monitor_height" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;monitor_height
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scale" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.width" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.height" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;height
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.ssaa" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ssaa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resolution" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.render_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;render_resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.aspect_ratio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;aspect_ratio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.resize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;resize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.backend" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.opengl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;opengl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.window" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.imgui" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;imgui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.imguio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;imguio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.init_window" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init_window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.read_screen" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_screen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.read_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;scheduler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.vsync" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;vsync
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.quit" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;quit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.on_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;on_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.next" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;next
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.realtime" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;realtime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.exporting" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;exporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.freewheel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;freewheel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.headless" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;headless
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.loop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.index" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.export_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;export_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.main" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.handle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;handle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_resize__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_resize__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_close__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_close__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_iconify__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_iconify__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_files_dropped_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_files_dropped_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_key_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_key_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_unicode_char_entered__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_unicode_char_entered__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_gluv" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_gluv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__xy2uv__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__xy2uv__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__dxdy2dudv__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__dxdy2dudv__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_buttons" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_buttons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_press_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_press_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_release_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_release_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.mouse_inside" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;mouse_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_enter_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_enter_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_scroll_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_scroll_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_position_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_position_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_drag_event__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__window_mouse_drag_event__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.render_ui" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;render_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ShaderFlow.Scene.ShaderScene.__ui__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__ui__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="file-shaderflowscenepy"><b>File: <a href='https://github.com/BrokenSource/ShaderFlow/blob/main/ShaderFlow/Scene.py' target='_blank'><code>ShaderFlow/Scene.py</code></a></b><a class="headerlink" href="#file-shaderflowscenepy" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<h2 id="ShaderFlow.Scene" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">ShaderFlow.Scene</span>


<a href="#ShaderFlow.Scene" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">








  <div class="doc doc-children">



























































































































































































































































































<div class="doc doc-object doc-class">



<h3 id="ShaderFlow.Scene.WindowBackend" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">WindowBackend</span>


<a href="#ShaderFlow.Scene.WindowBackend" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Broken.BrokenEnum" href="../../broken/core/brokenenum/#Broken.Core.BrokenEnum.BrokenEnum">BrokenEnum</a></code></p>







              <details class="quote">
                <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WindowBackend</span><span class="p">(</span><span class="n">BrokenEnum</span><span class="p">):</span>
    <span class="n">Headless</span> <span class="o">=</span> <span class="s2">&quot;headless&quot;</span>
    <span class="n">GLFW</span>     <span class="o">=</span> <span class="s2">&quot;glfw&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.WindowBackend.Headless" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">Headless</span>


<a href="#ShaderFlow.Scene.WindowBackend.Headless" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">Headless</span> <span class="o">=</span> <span class="s1">&#39;headless&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.WindowBackend.GLFW" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">GLFW</span>


<a href="#ShaderFlow.Scene.WindowBackend.GLFW" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">GLFW</span> <span class="o">=</span> <span class="s1">&#39;glfw&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>




  </div>

    </div>

</div>






<div class="doc doc-object doc-class">



<h3 id="ShaderFlow.Scene.ShaderScene" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ShaderScene</span>


<a href="#ShaderFlow.Scene.ShaderScene" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ShaderFlow.Module.ShaderModule" href="../module/#ShaderFlow.Module.ShaderModule">ShaderModule</a></code></p>







              <details class="quote">
                <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@define</span>
<span class="k">class</span> <span class="nc">ShaderScene</span><span class="p">(</span><span class="n">ShaderModule</span><span class="p">):</span>
    <span class="vm">__name__</span> <span class="o">=</span> <span class="s2">&quot;Scene&quot;</span>

    <span class="c1"># # ShaderFlow modules</span>

    <span class="n">modules</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="n">ShaderModule</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="n">deque</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List of all Modules on the Scene, in order of addition&quot;&quot;&quot;</span>

    <span class="n">ffmpeg</span><span class="p">:</span> <span class="n">BrokenFFmpeg</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">BrokenFFmpeg</span><span class="p">()</span><span class="o">.</span><span class="n">h264</span><span class="p">())</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;FFmpeg instance for exporting (encoding) videos&quot;&quot;&quot;</span>

    <span class="n">frametimer</span><span class="p">:</span> <span class="n">ShaderFrametimer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">keyboard</span><span class="p">:</span> <span class="n">ShaderKeyboard</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">camera</span><span class="p">:</span> <span class="n">ShaderCamera</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># # Fractional SSAA</span>

    <span class="n">shader</span><span class="p">:</span> <span class="n">ShaderObject</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The main ShaderObject of the Scene, the visible content of the Window&quot;&quot;&quot;</span>

    <span class="n">_final</span><span class="p">:</span> <span class="n">ShaderObject</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Internal ShaderObject used for a Fractional Super-Sampling Anti-Aliasing (SSAA). This shader</span>
<span class="sd">    samples the texture from the user&#39;s final self.shader, which is rendered at SSAA resolution&quot;&quot;&quot;</span>

    <span class="n">alpha</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Makes the final texture have an alpha channel, useful for transparent windows. Exporting</span>
<span class="sd">    videos might fail, perhaps output a Chroma Key compatible video - add this to the shader:</span>
<span class="sd">    - `fragColor.rgb = mix(vec3(0, 1, 0), fragColor.rgb, fragColor.a);`&quot;&quot;&quot;</span>

    <span class="n">quality</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">clamp</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Visual quality level (0-100%), if implemented on the Shader/Scene&quot;&quot;&quot;</span>

    <span class="n">typer</span><span class="p">:</span> <span class="n">BrokenTyper</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">BrokenTyper</span><span class="p">(</span><span class="n">chain</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This Scene&#39;s BrokenTyper instance for the CLI. Commands are added by any module in the</span>
<span class="sd">    `self.commands` method. The `self.main` is always added to it&quot;&quot;&quot;</span>

    <span class="n">scene_panel</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;🔥 Scene commands&quot;</span>

    <span class="k">def</span> <span class="nf">__post__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">typer_vcodecs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">typer_acodecs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">_panel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_panel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_build</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run this Scene&#39;s CLI with added commands with the given arguments&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Initializing scene [bold blue]&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;[/bold blue] with backend </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">create_context</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span> <span class="o">=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">get_io</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">set_ini_filename</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">DIRECTORIES</span><span class="o">.</span><span class="n">CONFIG</span><span class="o">/</span><span class="s2">&quot;imgui.ini&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">font_global_scale</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;IMGUI_FONT_SCALE&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">fonts</span><span class="o">.</span><span class="n">add_font_from_file_ttf</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">Broken</span><span class="o">.</span><span class="n">BROKEN</span><span class="o">.</span><span class="n">RESOURCES</span><span class="o">.</span><span class="n">FONTS</span><span class="o">/</span><span class="s2">&quot;DejaVuSans.ttf&quot;</span><span class="p">),</span>
            <span class="mi">16</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">font_global_scale</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Default modules</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frametimer</span> <span class="o">=</span> <span class="n">ShaderFrametimer</span><span class="p">(</span><span class="n">scene</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span> <span class="o">=</span> <span class="n">ShaderKeyboard</span><span class="p">(</span><span class="n">scene</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">ShaderCamera</span><span class="p">(</span><span class="n">scene</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Create the SSAA Workaround engines</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span> <span class="o">=</span> <span class="n">ShaderObject</span><span class="p">(</span><span class="n">scene</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;iFinal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">uint8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">final</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">track</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">fragment</span> <span class="o">=</span> <span class="p">(</span><span class="n">SHADERFLOW</span><span class="o">.</span><span class="n">RESOURCES</span><span class="o">.</span><span class="n">FRAGMENT</span><span class="o">/</span><span class="s2">&quot;Final.glsl&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shader</span> <span class="o">=</span> <span class="n">ShaderObject</span><span class="p">(</span><span class="n">scene</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;iScreen&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shader</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">track</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shader</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="ow">or</span> <span class="n">Nothing</span><span class="p">())</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Temporal</span>

    <span class="n">time</span><span class="p">:</span> <span class="n">Seconds</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Virtual time in seconds. Ideally, everything should depend on time, for flexibility&quot;&quot;&quot;</span>

    <span class="n">start</span><span class="p">:</span> <span class="n">Seconds</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start time offset added to self.time&quot;&quot;&quot;</span>

    <span class="n">speed</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">DynamicNumber</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Time scale factor, used for `dt`, which integrates to `time`&quot;&quot;&quot;</span>

    <span class="n">runtime</span><span class="p">:</span> <span class="n">Seconds</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The longest module duration; overriden by the user; or default length of 10s&quot;&quot;&quot;</span>

    <span class="n">fps</span><span class="p">:</span> <span class="n">Hertz</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">60.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Target frames per second rendering speed&quot;&quot;&quot;</span>

    <span class="n">dt</span><span class="p">:</span> <span class="n">Seconds</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Virtual delta time since last frame, time scaled by `speed`. Use `self.rdt` for real delta&quot;&quot;&quot;</span>

    <span class="n">rdt</span><span class="p">:</span> <span class="n">Seconds</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Real life, physical delta time since last frame. Use `self.dt` for time scaled version&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tau</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Normalized time value relative to runtime between 0 and 1&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">frametime</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A number from 0 to 2pi that ends on the runtime (&#39;normalized angular time&#39;)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">frametime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Seconds</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ideal time between two frames. This value is coupled with `fps`&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>

    <span class="nd">@frametime</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">frametime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Seconds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Current frame index being rendered. This value is coupled with &#39;time&#39; and &#39;fps&#39;&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>

    <span class="nd">@frame</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>

    <span class="c1"># Total Duration</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">duration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Seconds</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Alias to self.runtime. Set both with `.set_duration()`&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span>

    <span class="k">def</span> <span class="nf">set_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">override</span><span class="p">:</span> <span class="n">Seconds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="n">Seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Seconds</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Either force the runtime to be &#39;override&#39; or find the longest module lower bounded&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">=</span> <span class="p">(</span><span class="n">override</span> <span class="ow">or</span> <span class="n">minimum</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="n">override</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="p">,</span> <span class="n">module</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">/=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">total_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The total frames this scene should render when exporting, if &#39;runtime&#39; isn&#39;t changed&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Window synchronized properties</span>

    <span class="k">def</span> <span class="nf">_window_proxy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mouse_exclusivity&quot;</span>

        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changing Window attribute &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s2">&quot;ShaderFlow&quot;</span><span class="p">,</span> <span class="n">on_setattr</span><span class="o">=</span><span class="n">_window_proxy</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;title&#39; property&quot;&quot;&quot;</span>

    <span class="n">resizable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">on_setattr</span><span class="o">=</span><span class="n">_window_proxy</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;is resizable&#39; property&quot;&quot;&quot;</span>

    <span class="n">fullscreen</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">on_setattr</span><span class="o">=</span><span class="n">_window_proxy</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;is fullscreen&#39; property&quot;&quot;&quot;</span>

    <span class="n">exclusive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">on_setattr</span><span class="o">=</span><span class="n">_window_proxy</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;mouse exclusivity&#39; property&quot;&quot;&quot;</span>

    <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">on_setattr</span><span class="o">=</span><span class="n">_window_proxy</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;is visible&#39; property&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hidden</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Realtime window &#39;is hidden&#39; property&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span>

    <span class="nd">@hidden</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">hidden</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">value</span>

    <span class="c1"># # Video modes and monitor</span>

    <span class="n">monitor</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MONITOR&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">converter</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">glfw_monitor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">glfw</span><span class="o">.</span><span class="n">_GLFWmonitor</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">monitors</span> <span class="o">:=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">get_monitors</span><span class="p">()):</span>
            <span class="k">return</span> <span class="n">monitors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">monitor</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">glfw_video_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">monitor</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">glfw_monitor</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">glfw</span><span class="o">.</span><span class="n">get_video_mode</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitor_framerate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Note: Defaults to 60 if no monitor is found or non-real time&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span><span class="p">):</span>
            <span class="k">return</span> <span class="mf">60.0</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">glfw_video_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">mode</span><span class="o">.</span><span class="n">refresh_rate</span> <span class="ow">or</span> <span class="mf">60.0</span>
        <span class="k">return</span> <span class="mf">60.0</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitor_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">glfw_video_mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitor_width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resolution</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor_size</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">resolution</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitor_height</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resolution</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor_size</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">resolution</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Resolution</span>

    <span class="c1"># # Scale</span>

    <span class="n">_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolution scale factor, the `self.width` and `self.height` are multiplied by this&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scale</span>

    <span class="nd">@scale</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changing Resolution Scale to (</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="c1"># # Width</span>

    <span class="n">_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1920</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The scale-less rendering width of the Scene&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rendering width (horizontal size) of the Scene&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_width</span>

    <span class="nd">@width</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="n">value</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">))</span>

    <span class="c1"># # Height</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1080</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The scale-less rendering height of the Scene&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rendering height (vertical size) of the Scene&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span>

    <span class="nd">@height</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="p">(</span><span class="n">value</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">))</span>

    <span class="c1"># # SSAA</span>

    <span class="n">_ssaa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>  <span class="n">converter</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ssaa</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Fractional) Super Sampling Anti-Aliasing (SSAA) factor [^1]</span>

<span class="sd">        Render in a virtual resolution of this multiplier, then resample to the original resolution</span>
<span class="sd">        - Values higher than 1 improves the image quality, maximum visual quality at 2</span>
<span class="sd">        - Significant GPU cost of O(N^2): quadruples the GPU use at 2, or 25% at 0.5</span>

<span class="sd">        [^1]: https://en.wikipedia.org/wiki/Supersampling (Uniform grid distribution)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span>

    <span class="nd">@ssaa</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">ssaa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changing Fractional SSAA to </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">RecreateTextures</span><span class="p">)</span>

    <span class="c1"># # Resolution (With, Height)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The resolution the Scene is rendering&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="nd">@resolution</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">render_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Internal &#39;true&#39; rendering resolution for SSAA. Same as `self.resolution*self.ssaa`&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">))</span>

    <span class="c1"># # Aspect Ratio</span>

    <span class="n">_aspect_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">aspect_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Either the forced `self._aspect_ratio` or dynamic from `self.width/self.height`. When set</span>
<span class="sd">        and resizing, the logic of `BrokenResolution.fit` is applied to enforce ratios&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">)</span>

    <span class="nd">@aspect_ratio</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">aspect_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changing Aspect Ratio to </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># The aspect ratio can be sent as a fraction or &quot;none&quot;, &quot;false&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>

        <span class="c1"># Optimization: Only change if different</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span> <span class="o">==</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">==</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">):</span>
            <span class="n">num</span><span class="p">,</span> <span class="n">den</span> <span class="o">=</span> <span class="n">limited_ratio</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="o">**</span><span class="mi">20</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">glfw</span><span class="o">.</span><span class="n">DONT_CARE</span><span class="p">,</span> <span class="n">glfw</span><span class="o">.</span><span class="n">DONT_CARE</span><span class="p">)</span>
            <span class="n">glfw</span><span class="o">.</span><span class="n">set_window_aspect_ratio</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">den</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">ratio</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Unchanged</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
        <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
        <span class="n">ssaa</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resize the true final rendering resolution of the Scene. Rounded to nearest multiple of 2,</span>
<span class="sd">        so FFmpeg is happy, and limited by the monitor resolution if realtime</span>

<span class="sd">        Args:</span>
<span class="sd">            width:  New width of the Scene, None to not change</span>
<span class="sd">            height: New height of the Scene, None to not change</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[int, int]: The new width and height of the Scene</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Maybe update auxiliary properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span><span class="p">,</span> <span class="n">ratio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scale</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span><span class="p">,</span> <span class="n">ssaa</span><span class="p">)</span>

        <span class="c1"># The parameters aren&#39;t trivial. The idea is to fit resolution from the scale-less components,</span>
        <span class="c1"># so scaling isn&#39;t carried over, then to apply scaling (self.resolution)</span>
        <span class="n">resolution</span> <span class="o">=</span> <span class="n">BrokenResolution</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
            <span class="n">old</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">),</span>
            <span class="n">new</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span>
            <span class="nb">max</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">monitor_size</span><span class="p">),</span>
            <span class="n">ar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Optimization: Only resize when resolution changes</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">resolution</span> <span class="o">!=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">resolution</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">RecreateTextures</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resized Window to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Window, OpenGL, Backend</span>

    <span class="n">backend</span><span class="p">:</span> <span class="n">WindowBackend</span> <span class="o">=</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;WINDOW_BACKEND&quot;</span><span class="p">,</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The ModernGL Window Backend. **Cannot be changed after creation**. Can also be set with the</span>
<span class="sd">    environment variable `WINDOW_BACKEND=&lt;backend&gt;`, where `backend = {glfw, headless}`&quot;&quot;&quot;</span>

    <span class="n">opengl</span><span class="p">:</span> <span class="n">moderngl</span><span class="o">.</span><span class="n">Context</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ModernGL Context of this Scene. The thread accessing this MUST own or ENTER its context for</span>
<span class="sd">    creating, changing, deleting objects; more often than not, it&#39;s the Main thread&quot;&quot;&quot;</span>

    <span class="n">window</span><span class="p">:</span> <span class="n">ModernglWindow</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ModernGL Window instance at `site-packages/moderngl_window.context.&lt;self.backend&gt;.Window`&quot;&quot;&quot;</span>

    <span class="n">imgui</span><span class="p">:</span> <span class="n">ModernglWindowRenderer</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ModernGL Imgui integration class bound to the Window&quot;&quot;&quot;</span>

    <span class="n">imguio</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Imgui IO object&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">init_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create the window and the OpenGL context&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Window backend cannot be changed after creation&quot;</span><span class="p">)</span>

        <span class="c1"># Linux: Use EGL for creating a OpenGL context, allows true headless with GPU acceleration</span>
        <span class="c1"># Note: (https://forums.developer.nvidia.com/t/81412) (https://brokensrc.dev/get/docker/)</span>
        <span class="n">backend</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;egl&quot;</span> <span class="k">if</span> <span class="n">BrokenPlatform</span><span class="o">.</span><span class="n">OnLinux</span> <span class="ow">and</span> <span class="nb">eval</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;WINDOW_EGL&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">))</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Dynamically import the ModernGL Window Backend and instantiate it. Vsync is on our side 😉</span>
        <span class="n">module</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;moderngl_window.context.</span><span class="si">{</span><span class="n">denum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span><span class="o">.</span><span class="n">Window</span><span class="p">(</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">resizable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">,</span>
            <span class="n">visible</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">,</span>
            <span class="n">fullscreen</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span><span class="p">,</span>
            <span class="n">vsync</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">backend</span><span class="o">=</span><span class="n">backend</span>
        <span class="p">)</span>
        <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">set_keymap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">keys</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span>  <span class="o">=</span> <span class="n">ModernglWindowRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opengl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">ctx</span>

        <span class="c1"># Bind window events to relay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">resize_func</span>               <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_resize__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">close_func</span>                <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_close__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">iconify_func</span>              <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_iconify__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">key_event_func</span>            <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_key_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_position_event_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_position_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_press_event_func</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_press_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_release_event_func</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_release_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_drag_event_func</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_drag_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_scroll_event_func</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_scroll_event__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">unicode_char_entered_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_unicode_char_entered__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">files_dropped_event_func</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_files_dropped_event__</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">==</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">):</span>
            <span class="n">BrokenThread</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">set_icon</span><span class="p">,</span> <span class="n">icon_path</span><span class="o">=</span><span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">RESOURCES</span><span class="o">.</span><span class="n">ICON_PNG</span><span class="p">,</span> <span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">glfw</span><span class="o">.</span><span class="n">set_cursor_enter_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">enter</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_enter_event__</span><span class="p">(</span><span class="n">inside</span><span class="o">=</span><span class="n">enter</span><span class="p">))</span>
            <span class="n">glfw</span><span class="o">.</span><span class="n">set_drop_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_files_dropped_event__</span><span class="p">)</span>
            <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_SHIFT</span> <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_SHIFT</span>
            <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_CTRL</span>  <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_CONTROL</span>
            <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span>   <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_ALT</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OpenGL Renderer: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">opengl</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;GL_RENDERER&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Take a screenshot of the screen and return raw bytes. Length `width*height*components`&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">fbo</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">viewport</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># User actions</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path of the current Scene file Python script. This works by searching up the call stack</span>
<span class="sd">        for the first context whose filename isn&#39;t the local __file__ (of ShaderFlow.Scene)&quot;&quot;&quot;</span>
        <span class="c1"># Idea: Maybe `type(self).mro()[0]` could help</span>
        <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">stack</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">filename</span> <span class="o">!=</span> <span class="vm">__file__</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>

    <span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a file relative to the current Scene Python script&quot;&quot;&quot;</span>
        <span class="n">file</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="o">/</span><span class="n">file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reading file (</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">LoaderBytes</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">if</span> <span class="nb">bytes</span> <span class="k">else</span> <span class="n">LoaderString</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Main event loop</span>

    <span class="n">scheduler</span><span class="p">:</span> <span class="n">BrokenScheduler</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="n">BrokenScheduler</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scheduler for the Scene, handles all the tasks and their execution&quot;&quot;&quot;</span>

    <span class="n">vsync</span><span class="p">:</span> <span class="n">BrokenTask</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Task for the Scene&#39;s main event loop, the rendering of the next frame&quot;&quot;&quot;</span>

    <span class="n">quit</span><span class="p">:</span> <span class="n">PlainTracker</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">PlainTracker</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Should the scene end the main event loop? Use as `if scene.quit():`&quot;&quot;&quot;</span>

    <span class="n">on_frame</span><span class="p">:</span> <span class="n">BrokenRelay</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="n">BrokenRelay</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Integrate time, update all modules and render the next frame&quot;&quot;&quot;</span>

        <span class="c1"># Fixme: Windows: https://github.com/glfw/glfw/pull/1426</span>
        <span class="c1"># Immediately swap the buffer with previous frame for vsync</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">swap_buffers</span><span class="p">()</span>

        <span class="c1"># Note: Updates in reverse order of addition (child -&gt; parent -&gt; root)</span>
        <span class="c1"># Note: Update non-engine first, as the pipeline might change</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
                <span class="n">module</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
                <span class="n">module</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_render_ui</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_frame</span><span class="p">()</span>

        <span class="c1"># Note: Temporal logic is run afterwards, so frame zero is t=0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>    <span class="o">=</span> <span class="n">dt</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rdt</span>   <span class="o">=</span> <span class="n">dt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>

    <span class="n">realtime</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&#39;Realtime&#39; mode: Running with a window and user interaction&quot;&quot;&quot;</span>

    <span class="n">exporting</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Is this Scene exporting to a video file?&quot;&quot;&quot;</span>

    <span class="n">freewheel</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&#39;Not realtime&#39; mode: Either Exporting, Rendering or Benchmarking&quot;&quot;&quot;</span>

    <span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Running Headlessly, without a window and user interaction&quot;&quot;&quot;</span>

    <span class="n">loop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of times to loop the exported video. One 1 keeps original, two 2 doubles the length.</span>
<span class="sd">    Ideally have seamless transitions on the shader based on self.tau and/or/no audio input&quot;&quot;&quot;</span>

    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Current Batch exporting video index&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">export_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the video file name being exported based on the current batch index. By default,</span>
<span class="sd">        the name is unchanged in single export, else the stem is appended with the batch index&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">path</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--width&quot;</span><span class="p">,</span>      <span class="s2">&quot;-w&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Width  of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1920 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--height&quot;</span><span class="p">,</span>     <span class="s2">&quot;-h&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Height of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1080 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">ratio</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--ar&quot;</span><span class="p">,</span>         <span class="s2">&quot;-X&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Force resolution aspect ratio [green](examples: &#39;16:9&#39;, &#39;16/9&#39;, &#39;1.777&#39;)[/] [medium_purple3](None for dynamic)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--scale&quot;</span><span class="p">,</span>      <span class="s2">&quot;-x&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Post-multiply width and height by a scale factor [medium_purple3](None to keep)[/] [dim](1.0 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">fps</span><span class="p">:</span>        <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--fps&quot;</span><span class="p">,</span>        <span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Target frames per second [medium_purple3](defaults to the monitor framerate on realtime else 60)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">fullscreen</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">,</span>       <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in fullscreen mode [medium_purple3](toggle with F11)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">maximize</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--maximize&quot;</span><span class="p">,</span>   <span class="s2">&quot;-M&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in maximized mode&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">noskip</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--no-skip&quot;</span><span class="p">,</span>          <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] No frames are skipped if the rendering is behind schedule [medium_purple3](Limits maximum dt to 1/fps)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">quality</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--quality&quot;</span><span class="p">,</span>    <span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Global quality level [green](0-100%)[/] [yellow](if implemented on the scene/shader)[/] [medium_purple3](None to keep, default 50%)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">ssaa</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--ssaa&quot;</span><span class="p">,</span>       <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Super sampling anti aliasing factor [green](0-2)[/green] [yellow](O(N^2) GPU cost)[/yellow] [medium_purple3](None to keep, default 1.0)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">render</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--render&quot;</span><span class="p">,</span>     <span class="s2">&quot;-r&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export the Scene to a video file [medium_purple3](defined on --output, and implicit if so)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">output</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--output&quot;</span><span class="p">,</span>     <span class="s2">&quot;-o&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video file name [green](&#39;absolute&#39;, &#39;relative&#39;, &#39;plain&#39; path)[/] [dim]($base/$(plain or $scene-$date))[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">base</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--base&quot;</span><span class="p">,</span>       <span class="s2">&quot;-D&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export base directory [medium_purple3](if plain name)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">DIRECTORIES</span><span class="o">.</span><span class="n">DATA</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--time&quot;</span><span class="p">,</span>       <span class="s2">&quot;-t&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Total length of the exported video [dim](loop duration)[/] [medium_purple3](None to keep, default 10 or longest module)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--start&quot;</span><span class="p">,</span>      <span class="s2">&quot;-T&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Start time offset of the exported video [yellow](time is shifted by this)[/] [medium_purple3](None to keep)[/] [dim](0 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">speed</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--speed&quot;</span><span class="p">,</span>      <span class="s2">&quot;-S&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Time speed factor of the scene [yellow](duration is stretched by 1/speed)[/] [medium_purple3](None to keep)[/] [dim](1 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="nb">format</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--format&quot;</span><span class="p">,</span>     <span class="s2">&quot;-F&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video container [green](&#39;mp4&#39;, &#39;mkv&#39;, &#39;webm&#39;, &#39;avi, &#39;...&#39;)[/] [yellow](--output one is prioritized)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;mp4&quot;</span><span class="p">,</span>
        <span class="n">loop</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--loop&quot;</span><span class="p">,</span>       <span class="s2">&quot;-l&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Exported videos loop copies [yellow](final duration is multiplied by this)[/] [dim](1 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">freewheel</span><span class="p">:</span>  <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--freewheel&quot;</span><span class="p">,</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Unlock the Scene&#39;s event loop framerate, implicit when exporting [medium_purple3](use SKIP_GPU=1 for CPU only benchmark)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">raw</span><span class="p">:</span>        <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--raw&quot;</span><span class="p">,</span>              <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Send raw OpenGL frames before GPU SSAA to FFmpeg [medium_purple3](enabled if ssaa &lt; 1)[/] [dim](CPU Downsampling)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="nb">open</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--open&quot;</span><span class="p">,</span>             <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Open the directory of the exports after finishing rendering&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">batch</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--batch&quot;</span><span class="p">,</span>      <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Hyphenated indices range to export multiple videos, if implemented [medium_purple3](1,5-7,10)[/medium_purple3][/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="n">buffers</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--buffers&quot;</span><span class="p">,</span>    <span class="s2">&quot;-N&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Maximum number of pre-rendered frames to be piped into FFmpeg[/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">noturbo</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--no-turbo&quot;</span><span class="p">,</span>         <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Disables [steel_blue1][link=https://github.com/BrokenSource/TurboPipe]TurboPipe[/link][/steel_blue1] (faster FFmpeg data feeding throughput)[/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="c1"># Special: Not part of the cli</span>
        <span class="n">progress</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]],</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="c1"># Implementation of batch exporting</span>
        <span class="n">_reference</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">_index</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>  <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">_started</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>  <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">_outputs</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Path</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Main event loop of the scene</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># -----------------------------------------------------------------------------------------|</span>
        <span class="c1"># Batch exporting implementation</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">_started</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;YYYY-MM-DD HH-mm-ss&quot;</span><span class="p">)</span>
            <span class="n">_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
            <span class="n">_reference</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
            <span class="n">buffers</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">buffers</span><span class="p">))</span>

            <span class="k">for</span> <span class="n">_index</span> <span class="ow">in</span> <span class="n">hyphen_range</span><span class="p">(</span><span class="n">batch</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="nb">set</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                    <span class="n">ShaderScene</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="o">**</span><span class="nb">locals</span><span class="p">())</span>
                <span class="k">except</span> <span class="n">ShaderBatchStop</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log_minor</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Batch exporting stopped at index </span><span class="si">{</span><span class="n">_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span> <span class="ow">and</span> <span class="nb">open</span><span class="p">):</span>
                <span class="n">BrokenPath</span><span class="o">.</span><span class="n">explore</span><span class="p">(</span><span class="n">_outputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">_reference</span>
            <span class="k">return</span> <span class="n">_outputs</span>

        <span class="c1"># -----------------------------------------------------------------------------------------|</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span>  <span class="o">=</span> <span class="p">(</span><span class="n">render</span> <span class="ow">or</span> <span class="nb">bool</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span>  <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span> <span class="ow">or</span> <span class="n">freewheel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span>   <span class="o">=</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>   <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span>      <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ShaderFlow | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>        <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">monitor_framerate</span><span class="p">,</span> <span class="n">fps</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality</span>    <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="p">,</span> <span class="n">quality</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span>      <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop</span>       <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span> <span class="n">loop</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span>       <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">,</span> <span class="n">ssaa</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="p">(</span><span class="n">fullscreen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span>      <span class="o">=</span> <span class="n">_index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span>       <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">speed</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_duration</span><span class="p">(</span><span class="n">timeparse</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">Compile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">_reference</span>

        <span class="c1"># Set module defaults or overrides</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="n">module</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

        <span class="c1"># Calculate the final resolution</span>
        <span class="n">_width</span><span class="p">,</span> <span class="n">_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">ratio</span><span class="o">=</span><span class="n">ratio</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Optimization: Save bandwidth by piping native frames</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span> <span class="ow">and</span> <span class="p">(</span><span class="n">raw</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">render_resolution</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ssaa</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Status tracker</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">):</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">DotMap</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">start</span><span class="o">=</span><span class="n">perf_counter</span><span class="p">(),</span>
                <span class="n">bar</span><span class="o">=</span><span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span>
                    <span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">,</span>
                    <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Scene #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">) → Video&quot;</span><span class="p">,</span>
                    <span class="n">dynamic_ncols</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">colour</span><span class="o">=</span><span class="s2">&quot;#43BFEF&quot;</span><span class="p">,</span>
                    <span class="n">leave</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">unit</span><span class="o">=</span><span class="s2">&quot; frames&quot;</span><span class="p">,</span>
                    <span class="n">mininterval</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">30</span><span class="p">,</span>
                    <span class="n">maxinterval</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                    <span class="n">smoothing</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># Configure FFmpeg and Popen it</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">):</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">BrokenPath</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">output</span> <span class="ow">or</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">_started</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">output</span> <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">()</span> <span class="k">else</span> <span class="p">(</span><span class="n">base</span><span class="o">/</span><span class="n">output</span><span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">suffix</span> <span class="ow">or</span> <span class="nb">format</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_name</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="n">BrokenPath</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="c1"># Configure FFmpeg</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="n">video_codec</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">audio_codec</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">quiet</span><span class="p">()</span>
                <span class="o">.</span><span class="n">pipe_input</span><span class="p">(</span><span class="n">pixel_format</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;rgba&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="k">else</span> <span class="s2">&quot;rgb24&quot;</span><span class="p">),</span>
                    <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">framerate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>
                <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">_height</span><span class="p">)</span><span class="o">.</span><span class="n">vflip</span><span class="p">()</span>
                <span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="c1"># Let any module change settings</span>
            <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                <span class="n">module</span><span class="o">.</span><span class="n">ffhook</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">)</span>

            <span class="c1"># Open the subprocess and create buffer proxies</span>
            <span class="n">_buffers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opengl</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">reserve</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">size_t</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">buffers</span><span class="p">))</span>
            <span class="n">ffmpeg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
            <span class="n">fileno</span> <span class="o">=</span> <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">fileno</span><span class="p">()</span>

        <span class="c1"># Some scenes might take a while to setup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">maximize</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">==</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">)):</span>
            <span class="n">glfw</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">)</span>

        <span class="c1"># Add self.next to the event loop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
            <span class="n">task</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span>
            <span class="n">freewheel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">,</span>
            <span class="n">frameskip</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">noskip</span><span class="p">),</span>
            <span class="n">precise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">while</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()):</span>
            <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="c1"># Only continue if exporting</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">progress</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">progress</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">)</span>
            <span class="n">status</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># Write a new frame to FFmpeg</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>

                <span class="c1"># Always buffer-proxy, great speed up on Intel ARC and minor elsewhere</span>
                <span class="n">turbopipe</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">buffer</span> <span class="o">:=</span> <span class="p">(</span><span class="n">_buffers</span><span class="p">[</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">%</span> <span class="n">buffers</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">fbo</span><span class="p">()</span><span class="o">.</span><span class="n">read_into</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>

                <span class="c1"># TurboPipe can be slower on iGPU systems, make it opt-out</span>
                <span class="k">if</span> <span class="n">noturbo</span><span class="p">:</span> <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span> <span class="n">turbopipe</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">fileno</span><span class="p">)</span>

            <span class="c1"># Finish exporting condition</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">status</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;Waiting for FFmpeg process to finish (Queued writes, codecs lookahead, buffers, etc)&quot;</span><span class="p">)</span>
                <span class="n">turbopipe</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">ffmpeg</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Repeating video (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2"> times)&quot;</span><span class="p">)</span>
                <span class="n">output</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">temporary</span> <span class="o">:=</span> <span class="n">output</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">-loop&quot;</span><span class="p">))</span>
                <span class="p">(</span><span class="n">BrokenFFmpeg</span><span class="p">(</span><span class="n">stream_loop</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">quiet</span><span class="p">()</span><span class="o">.</span><span class="n">copy_audio</span><span class="p">()</span><span class="o">.</span><span class="n">copy_video</span><span class="p">()</span>
                    <span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">temporary</span><span class="p">)</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">pixel_format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">())</span>
                <span class="n">temporary</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
            <span class="n">_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

            <span class="c1"># Log stats</span>
            <span class="n">status</span><span class="o">.</span><span class="n">took</span> <span class="o">=</span> <span class="p">(</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">status</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Finished rendering (</span><span class="si">{</span><span class="n">output</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">((</span>
                <span class="sa">f</span><span class="s2">&quot;• Stats: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;(Took [cyan]</span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s[/cyan]) at &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;([cyan]</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">/</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">fps[/cyan] | &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;[cyan]</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="o">/</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">x[/cyan] Realtime) with &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span><span class="si">}</span><span class="s2"> Total Frames)&quot;</span>
            <span class="p">))</span>
            <span class="k">break</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Module</span>

    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">ShaderMessage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Close</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;Received Window Close Event&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyDown</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">O</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(O  ) Resetting the Scene&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                    <span class="n">module</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">R</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(R  ) Reloading Shaders&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
                        <span class="n">module</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">TAB</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(TAB) Toggling Menu&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span>

            <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(F1 ) Toggling Exclusive Mode&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span>

            <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F2</span><span class="p">:</span>
                <span class="kn">import</span> <span class="nn">arrow</span>
                <span class="n">time</span>  <span class="o">=</span> <span class="n">arrow</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;YYYY-MM-DD_HH-mm-ss&quot;</span><span class="p">)</span>
                <span class="n">image</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_screen</span><span class="p">())</span>
                <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">)</span>
                <span class="n">path</span>  <span class="o">=</span> <span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">DIRECTORIES</span><span class="o">.</span><span class="n">SCREENSHOTS</span><span class="o">/</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.png&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_minor</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(F2 ) Saving Screenshot to (</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
                <span class="n">BrokenThread</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F11</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(F11) Toggling Fullscreen&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Drag</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Position</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mouse_gluv</span> <span class="o">=</span> <span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">u</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ShaderVariable</span><span class="p">]:</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iTime&quot;</span><span class="p">,</span>        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iTau&quot;</span><span class="p">,</span>         <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iDuration&quot;</span><span class="p">,</span>    <span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iDeltatime&quot;</span><span class="p">,</span>   <span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;vec2&quot;</span><span class="p">,</span>  <span class="s2">&quot;iResolution&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iWantAspect&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">aspect_ratio</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iQuality&quot;</span><span class="p">,</span>     <span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iSSAA&quot;</span><span class="p">,</span>        <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iFramerate&quot;</span><span class="p">,</span>   <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>   <span class="s2">&quot;iFrame&quot;</span><span class="p">,</span>       <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>  <span class="s2">&quot;iRealtime&quot;</span><span class="p">,</span>    <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;vec2&quot;</span><span class="p">,</span>  <span class="s2">&quot;iMouse&quot;</span><span class="p">,</span>       <span class="bp">self</span><span class="o">.</span><span class="n">mouse_gluv</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>  <span class="s2">&quot;iMouseInside&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_inside</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;iMouse</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Internal window events</span>

    <span class="k">def</span> <span class="nf">__window_resize__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="c1"># Don&#39;t listen to resizes when exporting, as the final resolution might be</span>
        <span class="c1"># greater than the monitor and the window will resize down to fit</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">RecreateTextures</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__window_close__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Close</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">__window_iconify__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Iconify</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__window_files_dropped_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">stuff</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">FileDrop</span><span class="p">(</span><span class="n">files</span><span class="o">=</span><span class="n">stuff</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

    <span class="c1"># # Keyboard related events</span>

    <span class="k">def</span> <span class="nf">__window_key_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">key_event</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_keyboard</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ACTION_PRESS</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyDown</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ACTION_RELEASE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyUp</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">Press</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__window_unicode_char_entered__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_keyboard</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">Unicode</span><span class="p">(</span><span class="n">char</span><span class="o">=</span><span class="n">char</span><span class="p">))</span>

    <span class="c1"># # Mouse related events</span>

    <span class="n">mouse_gluv</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__xy2uv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a XY pixel coordinate into a Center-UV normalized coordinate&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">u</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span>  <span class="o">-</span> <span class="mf">0.5</span><span class="p">),</span>
            <span class="n">v</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__dxdy2dudv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a dx dy pixel coordinate into a Center-UV normalized coordinate&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">du</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">dx</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
            <span class="n">dv</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">dy</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">mouse_buttons</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="kc">False</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)})</span>

    <span class="k">def</span> <span class="nf">__window_mouse_press_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_press_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">button</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Press</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
            <span class="n">button</span><span class="o">=</span><span class="n">button</span>
        <span class="p">))</span>

    <span class="k">def</span> <span class="nf">__window_mouse_release_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_release_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">button</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Release</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
            <span class="n">button</span><span class="o">=</span><span class="n">button</span>
        <span class="p">))</span>

    <span class="n">mouse_inside</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__window_mouse_enter_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inside</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_inside</span> <span class="o">=</span> <span class="n">inside</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Enter</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">inside</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__window_mouse_scroll_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_scroll_event</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">+=</span> <span class="p">(</span><span class="n">dy</span><span class="p">)</span><span class="o">*</span><span class="mf">0.2</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Scroll</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="k">def</span> <span class="nf">__window_mouse_position_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_position_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Position</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="n">_mouse_drag_time_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">4</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;How much seconds to scroll in time when the mouse moves the full window height&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__window_mouse_drag_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_drag_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Rotate the camera on Shift</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_CTRL</span><span class="p">):</span>
            <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">cy</span><span class="o">+</span><span class="n">dy</span><span class="p">,</span> <span class="n">cx</span><span class="o">+</span><span class="n">dx</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">cy</span><span class="p">,</span> <span class="n">cx</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">):</span> <span class="n">angle</span> <span class="o">-=</span> <span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">base_z</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
            <span class="k">return</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">apply_zoom</span><span class="p">(</span><span class="o">-</span><span class="n">dy</span><span class="o">/</span><span class="mi">500</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">base_z</span><span class="p">,</span> <span class="n">angle</span><span class="o">=-</span><span class="n">dx</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Time Travel on Alt</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_drag_time_factor</span> <span class="o">*</span> <span class="p">(</span><span class="n">dy</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Drag</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="c1"># ---------------------------------------------------------------------------------------------|</span>
    <span class="c1"># Todo: Move UI to own class: For main menu, settings, exporting, etc</span>

    <span class="n">render_ui</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether to render the Main UI&quot;&quot;&quot;</span>

    <span class="c1"># Fixme: Move to somewhere better</span>
    <span class="k">def</span> <span class="nf">_render_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">fbo</span><span class="p">()</span><span class="o">.</span><span class="n">use</span><span class="p">()</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">window_border_size</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">window_rounding</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">tab_rounding</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">grab_rounding</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">frame_rounding</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_var</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">StyleVar_</span><span class="o">.</span><span class="n">child_rounding</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">push_style_color</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">Col_</span><span class="o">.</span><span class="n">frame_bg</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">new_frame</span><span class="p">()</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">set_next_window_pos</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">set_next_window_bg_alpha</span><span class="p">(</span><span class="mf">0.6</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">imgui</span><span class="o">.</span><span class="n">WindowFlags_</span><span class="o">.</span><span class="n">no_move</span> <span class="o">|</span> <span class="n">imgui</span><span class="o">.</span><span class="n">WindowFlags_</span><span class="o">.</span><span class="n">no_resize</span> <span class="o">|</span> <span class="n">imgui</span><span class="o">.</span><span class="n">WindowFlags_</span><span class="o">.</span><span class="n">no_collapse</span> <span class="o">|</span> <span class="n">imgui</span><span class="o">.</span><span class="n">WindowFlags_</span><span class="o">.</span><span class="n">always_auto_resize</span><span class="p">)</span>

        <span class="c1"># Render every module</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">imgui</span><span class="o">.</span><span class="n">tree_node_ex</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">uuid</span><span class="si">:</span><span class="s2">&gt;2</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">module</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;ShaderFlow&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">TreeNodeFlags_</span><span class="o">.</span><span class="n">default_open</span> <span class="o">|</span> <span class="n">imgui</span><span class="o">.</span><span class="n">TreeNodeFlags_</span><span class="o">.</span><span class="n">leaf</span> <span class="o">|</span> <span class="n">imgui</span><span class="o">.</span><span class="n">TreeNodeFlags_</span><span class="o">.</span><span class="n">bullet</span>
            <span class="p">):</span>
                <span class="n">module</span><span class="o">.</span><span class="n">__shaderflow_ui__</span><span class="p">()</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">tree_pop</span><span class="p">()</span>

        <span class="n">imgui</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">pop_style_color</span><span class="p">()</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">pop_style_var</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">imgui</span><span class="o">.</span><span class="n">get_draw_data</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">__ui__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="c1"># Render status</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resolution: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">render_resolution</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s2"> @ </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">x SSAA&quot;</span><span class="p">)</span>

        <span class="c1"># Framerate</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Framerate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.0f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">fps</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">240</span><span class="p">]):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fps</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="n">fps</span>
            <span class="k">if</span> <span class="n">fps</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

        <span class="c1"># Temporal</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Time Scale&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s2">x&quot;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">scale</span>
            <span class="k">if</span> <span class="n">scale</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

        <span class="c1"># SSAA</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;SSAA&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ssaa</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ssaa</span><span class="si">}</span><span class="s2">x&quot;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">=</span> <span class="n">ssaa</span>
            <span class="k">if</span> <span class="n">ssaa</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

        <span class="c1"># Quality</span>
        <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Quality&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.0f%%</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">quality</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.__name__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">__name__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__name__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;Scene&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.modules" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">modules</span>


<a href="#ShaderFlow.Scene.ShaderScene.modules" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">modules</span><span class="p">:</span> <span class="n"><span title="typing.Deque">Deque</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Module.ShaderModule" href="../module/#ShaderFlow.Module.ShaderModule">ShaderModule</a></span><span class="p">]</span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="n"><span title="collections.deque">deque</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List of all Modules on the Scene, in order of addition</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.ffmpeg" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">ffmpeg</span>


<a href="#ShaderFlow.Scene.ShaderScene.ffmpeg" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">ffmpeg</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Externals.FFmpeg.BrokenFFmpeg" href="../../broken/externals/ffmpeg/#Broken.Externals.FFmpeg.BrokenFFmpeg">BrokenFFmpeg</a></span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Externals.FFmpeg.BrokenFFmpeg" href="../../broken/externals/ffmpeg/#Broken.Externals.FFmpeg.BrokenFFmpeg">BrokenFFmpeg</a></span><span class="p">()</span><span class="o">.</span><span class="n">h264</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>FFmpeg instance for exporting (encoding) videos</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.frametimer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">frametimer</span>


<a href="#ShaderFlow.Scene.ShaderScene.frametimer" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">frametimer</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Modules.Frametimer.ShaderFrametimer" href="../modules/frametimer/#ShaderFlow.Modules.Frametimer.ShaderFrametimer">ShaderFrametimer</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.keyboard" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">keyboard</span>


<a href="#ShaderFlow.Scene.ShaderScene.keyboard" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">keyboard</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Modules.Keyboard.ShaderKeyboard" href="../modules/keyboard/#ShaderFlow.Modules.Keyboard.ShaderKeyboard">ShaderKeyboard</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.camera" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">camera</span>


<a href="#ShaderFlow.Scene.ShaderScene.camera" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">camera</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Modules.Camera.ShaderCamera" href="../modules/camera/#ShaderFlow.Modules.Camera.ShaderCamera">ShaderCamera</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.shader" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">shader</span>


<a href="#ShaderFlow.Scene.ShaderScene.shader" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">shader</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Shader.ShaderObject" href="../shader/#ShaderFlow.Shader.ShaderObject">ShaderObject</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The main ShaderObject of the Scene, the visible content of the Window</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.alpha" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">alpha</span>


<a href="#ShaderFlow.Scene.ShaderScene.alpha" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">alpha</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Makes the final texture have an alpha channel, useful for transparent windows. Exporting
videos might fail, perhaps output a Chroma Key compatible video - add this to the shader:
- <code>fragColor.rgb = mix(vec3(0, 1, 0), fragColor.rgb, fragColor.a);</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.quality" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">quality</span>


<a href="#ShaderFlow.Scene.ShaderScene.quality" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">quality</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.clamp" href="../../broken/core/__init__/#Broken.Core.clamp">clamp</a></span><span class="p">(</span><span class="n">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Visual quality level (0-100%), if implemented on the Shader/Scene</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.typer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">typer</span>


<a href="#ShaderFlow.Scene.ShaderScene.typer" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">typer</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="p">(</span><span class="n"><span title="Broken.BrokenTyper(chain)">chain</span></span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This Scene's BrokenTyper instance for the CLI. Commands are added by any module in the
<code>self.commands</code> method. The <code>self.main</code> is always added to it</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.scene_panel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">scene_panel</span>


<a href="#ShaderFlow.Scene.ShaderScene.scene_panel" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">scene_panel</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;🔥 Scene commands&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__post__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__post__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__post__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__post__</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__post__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">typer_vcodecs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">typer_acodecs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">_panel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene_panel</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_build</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.cli" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">cli</span>


<a href="#ShaderFlow.Scene.ShaderScene.cli" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">cli</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">str</span><span class="p">]])</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Run this Scene's CLI with added commands with the given arguments</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">cli</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run this Scene&#39;s CLI with added commands with the given arguments&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">typer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__del__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__del__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__del__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="fm">__del__</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="ow">or</span> <span class="n">Nothing</span><span class="p">())</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.time" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">time</span>


<a href="#ShaderFlow.Scene.ShaderScene.time" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Virtual time in seconds. Ideally, everything should depend on time, for flexibility</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">start</span>


<a href="#ShaderFlow.Scene.ShaderScene.start" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">start</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Start time offset added to self.time</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.speed" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">speed</span>


<a href="#ShaderFlow.Scene.ShaderScene.speed" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">speed</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Modules.Dynamics.DynamicNumber" href="../modules/dynamics/#ShaderFlow.Modules.Dynamics.DynamicNumber">DynamicNumber</a></span><span class="p">(</span><span class="n"><span title="ShaderFlow.Modules.Dynamics.DynamicNumber(value)">value</span></span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n"><span title="ShaderFlow.Modules.Dynamics.DynamicNumber(frequency)">frequency</span></span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Time scale factor, used for <code>dt</code>, which integrates to <code>time</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.runtime" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">runtime</span>


<a href="#ShaderFlow.Scene.ShaderScene.runtime" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">runtime</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The longest module duration; overriden by the user; or default length of 10s</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.fps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fps</span>


<a href="#ShaderFlow.Scene.ShaderScene.fps" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">fps</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Hertz" href="../../broken/types/#Broken.Types.Hertz">Hertz</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">60.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Target frames per second rendering speed</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.dt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">dt</span>


<a href="#ShaderFlow.Scene.ShaderScene.dt" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">dt</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Virtual delta time since last frame, time scaled by <code>speed</code>. Use <code>self.rdt</code> for real delta</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.rdt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">rdt</span>


<a href="#ShaderFlow.Scene.ShaderScene.rdt" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">rdt</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">float</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Real life, physical delta time since last frame. Use <code>self.dt</code> for time scaled version</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.tau" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">tau</span>


<a href="#ShaderFlow.Scene.ShaderScene.tau" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">tau</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Normalized time value relative to runtime between 0 and 1</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.cycle" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">cycle</span>


<a href="#ShaderFlow.Scene.ShaderScene.cycle" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">cycle</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A number from 0 to 2pi that ends on the runtime ('normalized angular time')</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.frametime" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">frametime</span>


<a href="#ShaderFlow.Scene.ShaderScene.frametime" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">frametime</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Ideal time between two frames. This value is coupled with <code>fps</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.frame" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">frame</span>


<a href="#ShaderFlow.Scene.ShaderScene.frame" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">frame</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Current frame index being rendered. This value is coupled with 'time' and 'fps'</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.duration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">duration</span>


<a href="#ShaderFlow.Scene.ShaderScene.duration" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">duration</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Alias to self.runtime. Set both with <code>.set_duration()</code></p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.set_duration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_duration</span>


<a href="#ShaderFlow.Scene.ShaderScene.set_duration" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">set_duration</span><span class="p">(</span>
    <span class="n">override</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Seconds" href="../../broken/types/#Broken.Types.Seconds">Seconds</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Either force the runtime to be 'override' or find the longest module lower bounded</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">override</span><span class="p">:</span> <span class="n">Seconds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">minimum</span><span class="p">:</span> <span class="n">Seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Seconds</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Either force the runtime to be &#39;override&#39; or find the longest module lower bounded&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">=</span> <span class="p">(</span><span class="n">override</span> <span class="ow">or</span> <span class="n">minimum</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="n">override</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="p">,</span> <span class="n">module</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span> <span class="o">/=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">value</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.total_frames" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">total_frames</span>


<a href="#ShaderFlow.Scene.ShaderScene.total_frames" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">total_frames</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The total frames this scene should render when exporting, if 'runtime' isn't changed</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.title" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">title</span>


<a href="#ShaderFlow.Scene.ShaderScene.title" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">title</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="s2">&quot;ShaderFlow&quot;</span><span class="p">,</span> <span class="n"><span title="attr.field(on_setattr)">on_setattr</span></span><span class="o">=</span><span class="n"><span title="ShaderFlow.Scene.ShaderScene._window_proxy">_window_proxy</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'title' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.resizable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">resizable</span>


<a href="#ShaderFlow.Scene.ShaderScene.resizable" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">resizable</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n"><span title="attr.field(on_setattr)">on_setattr</span></span><span class="o">=</span><span class="n"><span title="ShaderFlow.Scene.ShaderScene._window_proxy">_window_proxy</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'is resizable' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.fullscreen" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fullscreen</span>


<a href="#ShaderFlow.Scene.ShaderScene.fullscreen" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">fullscreen</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n"><span title="attr.field(on_setattr)">on_setattr</span></span><span class="o">=</span><span class="n"><span title="ShaderFlow.Scene.ShaderScene._window_proxy">_window_proxy</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'is fullscreen' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.exclusive" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">exclusive</span>


<a href="#ShaderFlow.Scene.ShaderScene.exclusive" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">exclusive</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n"><span title="attr.field(on_setattr)">on_setattr</span></span><span class="o">=</span><span class="n"><span title="ShaderFlow.Scene.ShaderScene._window_proxy">_window_proxy</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'mouse exclusivity' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.visible" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">visible</span>


<a href="#ShaderFlow.Scene.ShaderScene.visible" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">visible</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n"><span title="attr.field(on_setattr)">on_setattr</span></span><span class="o">=</span><span class="n"><span title="ShaderFlow.Scene.ShaderScene._window_proxy">_window_proxy</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'is visible' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.hidden" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">hidden</span>


<a href="#ShaderFlow.Scene.ShaderScene.hidden" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">hidden</span><span class="p">:</span> <span class="n">bool</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Realtime window 'is hidden' property</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.monitor" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">monitor</span>


<a href="#ShaderFlow.Scene.ShaderScene.monitor" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">monitor</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span>
    <span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n"><span title="os.getenv">getenv</span></span><span class="p">(</span><span class="s2">&quot;MONITOR&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">int</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.glfw_monitor" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">glfw_monitor</span>


<a href="#ShaderFlow.Scene.ShaderScene.glfw_monitor" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">glfw_monitor</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n">glfw</span><span class="o">.</span><span class="n"><span title="glfw._GLFWmonitor">_GLFWmonitor</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.glfw_video_mode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">glfw_video_mode</span>


<a href="#ShaderFlow.Scene.ShaderScene.glfw_video_mode" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">glfw_video_mode</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Dict">Dict</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.monitor_framerate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">monitor_framerate</span>


<a href="#ShaderFlow.Scene.ShaderScene.monitor_framerate" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">monitor_framerate</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Note: Defaults to 60 if no monitor is found or non-real time</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.monitor_size" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">monitor_size</span>


<a href="#ShaderFlow.Scene.ShaderScene.monitor_size" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">monitor_size</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.monitor_width" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">monitor_width</span>


<a href="#ShaderFlow.Scene.ShaderScene.monitor_width" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">monitor_width</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.monitor_height" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">monitor_height</span>


<a href="#ShaderFlow.Scene.ShaderScene.monitor_height" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">monitor_height</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.scale" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">scale</span>


<a href="#ShaderFlow.Scene.ShaderScene.scale" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">scale</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resolution scale factor, the <code>self.width</code> and <code>self.height</code> are multiplied by this</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.width" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">width</span>


<a href="#ShaderFlow.Scene.ShaderScene.width" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">width</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rendering width (horizontal size) of the Scene</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.height" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">height</span>


<a href="#ShaderFlow.Scene.ShaderScene.height" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">height</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rendering height (vertical size) of the Scene</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.ssaa" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">ssaa</span>


<a href="#ShaderFlow.Scene.ShaderScene.ssaa" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">ssaa</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>(Fractional) Super Sampling Anti-Aliasing (SSAA) factor <sup id="ShaderFlow.Scene.ShaderScene.ssaa--fnref:1"><a class="footnote-ref" href="#ShaderFlow.Scene.ShaderScene.ssaa--fn:1">1</a></sup></p>
<p>Render in a virtual resolution of this multiplier, then resample to the original resolution
- Values higher than 1 improves the image quality, maximum visual quality at 2
- Significant GPU cost of O(N^2): quadruples the GPU use at 2, or 25% at 0.5</p>
<div class="footnote">
<hr />
<ol>
<li id="ShaderFlow.Scene.ShaderScene.ssaa--fn:1">
<p><a href="https://en.wikipedia.org/wiki/Supersampling">https://en.wikipedia.org/wiki/Supersampling</a> (Uniform grid distribution)&#160;<a class="footnote-backref" href="#ShaderFlow.Scene.ShaderScene.ssaa--fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.resolution" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">resolution</span>


<a href="#ShaderFlow.Scene.ShaderScene.resolution" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">resolution</span><span class="p">:</span> <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The resolution the Scene is rendering</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.render_resolution" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">render_resolution</span>


<a href="#ShaderFlow.Scene.ShaderScene.render_resolution" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">render_resolution</span><span class="p">:</span> <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Internal 'true' rendering resolution for SSAA. Same as <code>self.resolution*self.ssaa</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.aspect_ratio" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">aspect_ratio</span>


<a href="#ShaderFlow.Scene.ShaderScene.aspect_ratio" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">aspect_ratio</span><span class="p">:</span> <span class="n">float</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Either the forced <code>self._aspect_ratio</code> or dynamic from <code>self.width/self.height</code>. When set
and resizing, the logic of <code>BrokenResolution.fit</code> is applied to enforce ratios</p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.resize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">resize</span>


<a href="#ShaderFlow.Scene.ShaderScene.resize" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">resize</span><span class="p">(</span>
    <span class="n">width</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">float</span><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">float</span><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">ratio</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span><span class="p">,</span> <span class="n">float</span><span class="p">,</span> <span class="n">str</span><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span><span class="p">,</span>
    <span class="n">ssaa</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resize the true final rendering resolution of the Scene. Rounded to nearest multiple of 2,
so FFmpeg is happy, and limited by the monitor resolution if realtime</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>width</code></b>
              (<code><span title="typing.Union">Union</span>[int, float]</code>, default:
                  <code><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></code>
)
          –
          <div class="doc-md-description">
            <p>New width of the Scene, None to not change</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>height</code></b>
              (<code><span title="typing.Union">Union</span>[int, float]</code>, default:
                  <code><a class="autorefs autorefs-internal" title="Broken.Types.Unchanged" href="../../broken/types/#Broken.Types.Unchanged">Unchanged</a></code>
)
          –
          <div class="doc-md-description">
            <p>New height of the Scene, None to not change</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Tuple">Tuple</span>[int, int]</code>
          –
          <div class="doc-md-description">
            <p>Tuple[int, int]: The new width and height of the Scene</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">ratio</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Unchanged</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
    <span class="n">ssaa</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="n">Unchanged</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resize the true final rendering resolution of the Scene. Rounded to nearest multiple of 2,</span>
<span class="sd">    so FFmpeg is happy, and limited by the monitor resolution if realtime</span>

<span class="sd">    Args:</span>
<span class="sd">        width:  New width of the Scene, None to not change</span>
<span class="sd">        height: New height of the Scene, None to not change</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[int, int]: The new width and height of the Scene</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Maybe update auxiliary properties</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span><span class="p">,</span> <span class="n">ratio</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scale</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span> <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ssaa</span><span class="p">,</span> <span class="n">ssaa</span><span class="p">)</span>

    <span class="c1"># The parameters aren&#39;t trivial. The idea is to fit resolution from the scale-less components,</span>
    <span class="c1"># so scaling isn&#39;t carried over, then to apply scaling (self.resolution)</span>
    <span class="n">resolution</span> <span class="o">=</span> <span class="n">BrokenResolution</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
        <span class="n">old</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">),</span>
        <span class="n">new</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span>
        <span class="nb">max</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">monitor_size</span><span class="p">),</span>
        <span class="n">ar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_aspect_ratio</span><span class="p">,</span>
        <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_scale</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Optimization: Only resize when resolution changes</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">resolution</span> <span class="o">!=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">resolution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">RecreateTextures</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resized Window to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.backend" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">backend</span>


<a href="#ShaderFlow.Scene.ShaderScene.backend" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">backend</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.WindowBackend" href="#ShaderFlow.Scene.WindowBackend">WindowBackend</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.WindowBackend" href="#ShaderFlow.Scene.WindowBackend">WindowBackend</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.WindowBackend.get" href="../../broken/core/brokenenum/#Broken.Core.BrokenEnum.BrokenEnum.get">get</a></span><span class="p">(</span>
    <span class="n">os</span><span class="o">.</span><span class="n"><span title="os.getenv">getenv</span></span><span class="p">(</span><span class="s2">&quot;WINDOW_BACKEND&quot;</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.WindowBackend" href="#ShaderFlow.Scene.WindowBackend">WindowBackend</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.WindowBackend.GLFW" href="#ShaderFlow.Scene.WindowBackend.GLFW">GLFW</a></span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The ModernGL Window Backend. <strong>Cannot be changed after creation</strong>. Can also be set with the
environment variable <code>WINDOW_BACKEND=&lt;backend&gt;</code>, where <code>backend = {glfw, headless}</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.opengl" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">opengl</span>


<a href="#ShaderFlow.Scene.ShaderScene.opengl" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">opengl</span><span class="p">:</span> <span class="n">moderngl</span><span class="o">.</span><span class="n"><span title="moderngl.Context">Context</span></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>ModernGL Context of this Scene. The thread accessing this MUST own or ENTER its context for
creating, changing, deleting objects; more often than not, it's the Main thread</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.window" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">window</span>


<a href="#ShaderFlow.Scene.ShaderScene.window" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">window</span><span class="p">:</span> <span class="n"><span title="moderngl_window.context.base.BaseWindow">ModernglWindow</span></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>ModernGL Window instance at <code>site-packages/moderngl_window.context.&lt;self.backend&gt;.Window</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.imgui" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">imgui</span>


<a href="#ShaderFlow.Scene.ShaderScene.imgui" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">imgui</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Modules.Others.mglw_imbundle.ModernglWindowRenderer" href="../modules/others/mglw_imbundle/#ShaderFlow.Modules.Others.mglw_imbundle.ModernglWindowRenderer">ModernglWindowRenderer</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>ModernGL Imgui integration class bound to the Window</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.imguio" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">imguio</span>


<a href="#ShaderFlow.Scene.ShaderScene.imguio" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">imguio</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Imgui IO object</p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.init_window" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">init_window</span>


<a href="#ShaderFlow.Scene.ShaderScene.init_window" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">init_window</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create the window and the OpenGL context</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">init_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create the window and the OpenGL context&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Window backend cannot be changed after creation&quot;</span><span class="p">)</span>

    <span class="c1"># Linux: Use EGL for creating a OpenGL context, allows true headless with GPU acceleration</span>
    <span class="c1"># Note: (https://forums.developer.nvidia.com/t/81412) (https://brokensrc.dev/get/docker/)</span>
    <span class="n">backend</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;egl&quot;</span> <span class="k">if</span> <span class="n">BrokenPlatform</span><span class="o">.</span><span class="n">OnLinux</span> <span class="ow">and</span> <span class="nb">eval</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;WINDOW_EGL&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">))</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Dynamically import the ModernGL Window Backend and instantiate it. Vsync is on our side 😉</span>
    <span class="n">module</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;moderngl_window.context.</span><span class="si">{</span><span class="n">denum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span><span class="o">.</span><span class="n">Window</span><span class="p">(</span>
        <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="n">resizable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">,</span>
        <span class="n">visible</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">,</span>
        <span class="n">fullscreen</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span><span class="p">,</span>
        <span class="n">vsync</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">backend</span><span class="o">=</span><span class="n">backend</span>
    <span class="p">)</span>
    <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">set_keymap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">keys</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span>  <span class="o">=</span> <span class="n">ModernglWindowRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">opengl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">ctx</span>

    <span class="c1"># Bind window events to relay</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">resize_func</span>               <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_resize__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">close_func</span>                <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_close__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">iconify_func</span>              <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_iconify__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">key_event_func</span>            <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_key_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_position_event_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_position_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_press_event_func</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_press_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_release_event_func</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_release_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_drag_event_func</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_drag_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">mouse_scroll_event_func</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_scroll_event__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">unicode_char_entered_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_unicode_char_entered__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">files_dropped_event_func</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_files_dropped_event__</span>

    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">==</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">):</span>
        <span class="n">BrokenThread</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">set_icon</span><span class="p">,</span> <span class="n">icon_path</span><span class="o">=</span><span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">RESOURCES</span><span class="o">.</span><span class="n">ICON_PNG</span><span class="p">,</span> <span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">glfw</span><span class="o">.</span><span class="n">set_cursor_enter_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">enter</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_mouse_enter_event__</span><span class="p">(</span><span class="n">inside</span><span class="o">=</span><span class="n">enter</span><span class="p">))</span>
        <span class="n">glfw</span><span class="o">.</span><span class="n">set_drop_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__window_files_dropped_event__</span><span class="p">)</span>
        <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_SHIFT</span> <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_SHIFT</span>
        <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_CTRL</span>  <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_CONTROL</span>
        <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span>   <span class="o">=</span> <span class="n">glfw</span><span class="o">.</span><span class="n">KEY_LEFT_ALT</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OpenGL Renderer: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">opengl</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;GL_RENDERER&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.read_screen" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">read_screen</span>


<a href="#ShaderFlow.Scene.ShaderScene.read_screen" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">read_screen</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">bytes</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Take a screenshot of the screen and return raw bytes. Length <code>width*height*components</code></p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">read_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take a screenshot of the screen and return raw bytes. Length `width*height*components`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">fbo</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">viewport</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.directory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">directory</span>


<a href="#ShaderFlow.Scene.ShaderScene.directory" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">directory</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path of the current Scene file Python script. This works by searching up the call stack
for the first context whose filename isn't the local <strong>file</strong> (of ShaderFlow.Scene)</p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.read_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">read_file</span>


<a href="#ShaderFlow.Scene.ShaderScene.read_file" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">read_file</span><span class="p">(</span>
    <span class="n">file</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">bytes</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Read a file relative to the current Scene Python script</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read a file relative to the current Scene Python script&quot;&quot;&quot;</span>
    <span class="n">file</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="o">/</span><span class="n">file</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reading file (</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">LoaderBytes</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">if</span> <span class="nb">bytes</span> <span class="k">else</span> <span class="n">LoaderString</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.scheduler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">scheduler</span>


<a href="#ShaderFlow.Scene.ShaderScene.scheduler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">scheduler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenScheduler" href="../../broken/core/brokenscheduler/#Broken.Core.BrokenScheduler.BrokenScheduler">BrokenScheduler</a></span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenScheduler" href="../../broken/core/brokenscheduler/#Broken.Core.BrokenScheduler.BrokenScheduler">BrokenScheduler</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Scheduler for the Scene, handles all the tasks and their execution</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.vsync" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">vsync</span>


<a href="#ShaderFlow.Scene.ShaderScene.vsync" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">vsync</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTask" href="../../broken/core/brokenscheduler/#Broken.Core.BrokenScheduler.BrokenTask">BrokenTask</a></span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Task for the Scene's main event loop, the rendering of the next frame</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.quit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">quit</span>


<a href="#ShaderFlow.Scene.ShaderScene.quit" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">quit</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.PlainTracker" href="../../broken/core/__init__/#Broken.Core.PlainTracker">PlainTracker</a></span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.PlainTracker" href="../../broken/core/__init__/#Broken.Core.PlainTracker">PlainTracker</a></span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Should the scene end the main event loop? Use as <code>if scene.quit():</code></p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.on_frame" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">on_frame</span>


<a href="#ShaderFlow.Scene.ShaderScene.on_frame" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">on_frame</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenRelay" href="../../broken/core/__init__/#Broken.Core.BrokenRelay">BrokenRelay</a></span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenRelay" href="../../broken/core/__init__/#Broken.Core.BrokenRelay">BrokenRelay</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.next" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">next</span>


<a href="#ShaderFlow.Scene.ShaderScene.next" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nb">next</span><span class="p">(</span><span class="nf">dt</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Integrate time, update all modules and render the next frame</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Integrate time, update all modules and render the next frame&quot;&quot;&quot;</span>

    <span class="c1"># Fixme: Windows: https://github.com/glfw/glfw/pull/1426</span>
    <span class="c1"># Immediately swap the buffer with previous frame for vsync</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">swap_buffers</span><span class="p">()</span>

    <span class="c1"># Note: Updates in reverse order of addition (child -&gt; parent -&gt; root)</span>
    <span class="c1"># Note: Update non-engine first, as the pipeline might change</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
            <span class="n">module</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
            <span class="n">module</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_render_ui</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_frame</span><span class="p">()</span>

    <span class="c1"># Note: Temporal logic is run afterwards, so frame zero is t=0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>    <span class="o">=</span> <span class="n">dt</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rdt</span>   <span class="o">=</span> <span class="n">dt</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.realtime" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">realtime</span>


<a href="#ShaderFlow.Scene.ShaderScene.realtime" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">realtime</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>'Realtime' mode: Running with a window and user interaction</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.exporting" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">exporting</span>


<a href="#ShaderFlow.Scene.ShaderScene.exporting" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">exporting</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Is this Scene exporting to a video file?</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.freewheel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">freewheel</span>


<a href="#ShaderFlow.Scene.ShaderScene.freewheel" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">freewheel</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>'Not realtime' mode: Either Exporting, Rendering or Benchmarking</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.headless" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">headless</span>


<a href="#ShaderFlow.Scene.ShaderScene.headless" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">headless</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Running Headlessly, without a window and user interaction</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.loop" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">loop</span>


<a href="#ShaderFlow.Scene.ShaderScene.loop" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">loop</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n"><span title="attr.field">field</span></span><span class="p">(</span><span class="n"><span title="attr.field(default)">default</span></span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n"><span title="attr.field(converter)">converter</span></span><span class="o">=</span><span class="n">int</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of times to loop the exported video. One 1 keeps original, two 2 doubles the length.
Ideally have seamless transitions on the shader based on self.tau and/or/no audio input</p>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.index" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">index</span>


<a href="#ShaderFlow.Scene.ShaderScene.index" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">index</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Current Batch exporting video index</p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.export_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">export_name</span>


<a href="#ShaderFlow.Scene.ShaderScene.export_name" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">export_name</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pathlib.Path">Path</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Change the video file name being exported based on the current batch index. By default,
the name is unchanged in single export, else the stem is appended with the batch index</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">export_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the video file name being exported based on the current batch index. By default,</span>
<span class="sd">    the name is unchanged in single export, else the stem is appended with the batch index&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.main" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">main</span>


<a href="#ShaderFlow.Scene.ShaderScene.main" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">main</span><span class="p">(</span>
    <span class="n">width</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">int</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.width" href="#ShaderFlow.Scene.ShaderScene.width">width</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">w</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Width  of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1920 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">int</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.height" href="#ShaderFlow.Scene.ShaderScene.height">height</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">h</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Height of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1080 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ratio</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">str</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">ar</span><span class="p">,</span>
            <span class="o">-</span><span class="n">X</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Force resolution aspect ratio [green](examples: &#39;16:9&#39;, &#39;16/9&#39;, &#39;1.777&#39;)[/] [medium_purple3](None for dynamic)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.scale" href="#ShaderFlow.Scene.ShaderScene.scale">scale</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">x</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Post-multiply width and height by a scale factor [medium_purple3](None to keep)[/] [dim](1.0 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fps</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.fps" href="#ShaderFlow.Scene.ShaderScene.fps">fps</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">f</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Target frames per second [medium_purple3](defaults to the monitor framerate on realtime else 60)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fullscreen</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.fullscreen" href="#ShaderFlow.Scene.ShaderScene.fullscreen">fullscreen</a></span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in fullscreen mode [medium_purple3](toggle with F11)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">maximize</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">maximize</span><span class="p">,</span>
            <span class="o">-</span><span class="n">M</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in maximized mode&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">noskip</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">no</span> <span class="o">-</span> <span class="n">skip</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] No frames are skipped if the rendering is behind schedule [medium_purple3](Limits maximum dt to 1/fps)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">quality</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.quality" href="#ShaderFlow.Scene.ShaderScene.quality">quality</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">q</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Global quality level [green](0-100%)[/] [yellow](if implemented on the scene/shader)[/] [medium_purple3](None to keep, default 50%)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ssaa</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.ssaa" href="#ShaderFlow.Scene.ShaderScene.ssaa">ssaa</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">s</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Super sampling anti aliasing factor [green](0-2)[/green] [yellow](O(N^2) GPU cost)[/yellow] [medium_purple3](None to keep, default 1.0)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">render</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">render</span><span class="p">,</span>
            <span class="o">-</span><span class="n">r</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export the Scene to a video file [medium_purple3](defined on --output, and implicit if so)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">output</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">str</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">output</span><span class="p">,</span>
            <span class="o">-</span><span class="n">o</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video file name [green](&#39;absolute&#39;, &#39;relative&#39;, &#39;plain&#39; path)[/] [dim]($base/$(plain or $scene-$date))[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">base</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">base</span><span class="p">,</span>
            <span class="o">-</span><span class="n">D</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export base directory [medium_purple3](if plain name)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" href="../../broken/__init__/#Broken">Broken</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.PROJECT" href="../../broken/__init__/#Broken.PROJECT">PROJECT</a></span><span class="o">.</span><span class="n"><span title="Broken.PROJECT.DIRECTORIES">DIRECTORIES</span></span><span class="o">.</span><span class="n"><span title="Broken.PROJECT.DIRECTORIES.DATA">DATA</span></span><span class="p">,</span>
    <span class="n">time</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">str</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.time" href="#ShaderFlow.Scene.ShaderScene.time">time</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">t</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Total length of the exported video [dim](loop duration)[/] [medium_purple3](None to keep, default 10 or longest module)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">start</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.start" href="#ShaderFlow.Scene.ShaderScene.start">start</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">T</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Start time offset of the exported video [yellow](time is shifted by this)[/] [medium_purple3](None to keep)[/] [dim](0 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">speed</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">float</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.speed" href="#ShaderFlow.Scene.ShaderScene.speed">speed</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">S</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Time speed factor of the scene [yellow](duration is stretched by 1/speed)[/] [medium_purple3](None to keep)[/] [dim](1 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">str</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">format</span><span class="p">,</span>
            <span class="o">-</span><span class="n">F</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video container [green](&#39;mp4&#39;, &#39;mkv&#39;, &#39;webm&#39;, &#39;avi, &#39;...&#39;)[/] [yellow](--output one is prioritized)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;mp4&quot;</span><span class="p">,</span>
    <span class="n">loop</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">int</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.loop" href="#ShaderFlow.Scene.ShaderScene.loop">loop</a></span><span class="p">,</span>
            <span class="o">-</span><span class="n">l</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Exported videos loop copies [yellow](final duration is multiplied by this)[/] [dim](1 on init)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">freewheel</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Scene.ShaderScene.freewheel" href="#ShaderFlow.Scene.ShaderScene.freewheel">freewheel</a></span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Unlock the Scene&#39;s event loop framerate, implicit when exporting [medium_purple3](use SKIP_GPU=1 for CPU only benchmark)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">raw</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">raw</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Send raw OpenGL frames before GPU SSAA to FFmpeg [medium_purple3](enabled if ssaa &lt; 1)[/] [dim](CPU Downsampling)[/]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="nb">open</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">open</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Open the directory of the exports after finishing rendering&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">batch</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">str</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">batch</span><span class="p">,</span>
            <span class="o">-</span><span class="n">b</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Hyphenated indices range to export multiple videos, if implemented [medium_purple3](1,5-7,10)[/medium_purple3][/dim]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="n">buffers</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">int</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">buffers</span><span class="p">,</span>
            <span class="o">-</span><span class="n">N</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Maximum number of pre-rendered frames to be piped into FFmpeg[/dim]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">noturbo</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n">bool</span><span class="p">,</span>
        <span class="n"><span title="typer.Option">Option</span></span><span class="p">(</span>
            <span class="o">--</span><span class="n">no</span> <span class="o">-</span> <span class="n">turbo</span><span class="p">,</span>
            <span class="n"><span title="typer.Option(help)">help</span></span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Disables [steel_blue1][link=https://github.com/BrokenSource/TurboPipe]TurboPipe[/link][/steel_blue1] (faster FFmpeg data feeding throughput)[/dim]&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">progress</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Callable">Callable</span></span><span class="p">[[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]],</span>
        <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper.exclude" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper.exclude">exclude</a></span><span class="p">(),</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_reference</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper.exclude" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper.exclude">exclude</a></span><span class="p">()</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_index</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper.exclude" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper.exclude">exclude</a></span><span class="p">()]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_started</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper.exclude" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper.exclude">exclude</a></span><span class="p">()]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_outputs</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span><span class="n"><span title="pathlib.Path">Path</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper">BrokenTyper</a></span><span class="o">.</span><span class="n"><a class="autorefs autorefs-internal" title="Broken.BrokenTyper.exclude" href="../../broken/core/brokentyper/#Broken.Core.BrokenTyper.BrokenTyper.exclude">exclude</a></span><span class="p">()]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="pathlib.Path">Path</span></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Main event loop of the scene</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--width&quot;</span><span class="p">,</span>      <span class="s2">&quot;-w&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Width  of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1920 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--height&quot;</span><span class="p">,</span>     <span class="s2">&quot;-h&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Height of the rendering resolution [medium_purple3](None to keep or find by --ar aspect ratio)[/] [dim](1080 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">ratio</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--ar&quot;</span><span class="p">,</span>         <span class="s2">&quot;-X&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Force resolution aspect ratio [green](examples: &#39;16:9&#39;, &#39;16/9&#39;, &#39;1.777&#39;)[/] [medium_purple3](None for dynamic)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--scale&quot;</span><span class="p">,</span>      <span class="s2">&quot;-x&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Post-multiply width and height by a scale factor [medium_purple3](None to keep)[/] [dim](1.0 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fps</span><span class="p">:</span>        <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--fps&quot;</span><span class="p">,</span>        <span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Basic  )[/] Target frames per second [medium_purple3](defaults to the monitor framerate on realtime else 60)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fullscreen</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">,</span>       <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in fullscreen mode [medium_purple3](toggle with F11)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">maximize</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--maximize&quot;</span><span class="p">,</span>   <span class="s2">&quot;-M&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] Start the realtime window in maximized mode&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">noskip</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--no-skip&quot;</span><span class="p">,</span>          <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold red   ](🔴 Window )[/] No frames are skipped if the rendering is behind schedule [medium_purple3](Limits maximum dt to 1/fps)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">quality</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--quality&quot;</span><span class="p">,</span>    <span class="s2">&quot;-q&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Global quality level [green](0-100%)[/] [yellow](if implemented on the scene/shader)[/] [medium_purple3](None to keep, default 50%)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">ssaa</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--ssaa&quot;</span><span class="p">,</span>       <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold yellow](🟡 Quality)[/] Super sampling anti aliasing factor [green](0-2)[/green] [yellow](O(N^2) GPU cost)[/yellow] [medium_purple3](None to keep, default 1.0)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">render</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--render&quot;</span><span class="p">,</span>     <span class="s2">&quot;-r&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export the Scene to a video file [medium_purple3](defined on --output, and implicit if so)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">output</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--output&quot;</span><span class="p">,</span>     <span class="s2">&quot;-o&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video file name [green](&#39;absolute&#39;, &#39;relative&#39;, &#39;plain&#39; path)[/] [dim]($base/$(plain or $scene-$date))[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">base</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--base&quot;</span><span class="p">,</span>       <span class="s2">&quot;-D&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Export base directory [medium_purple3](if plain name)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">DIRECTORIES</span><span class="o">.</span><span class="n">DATA</span><span class="p">,</span>
    <span class="n">time</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--time&quot;</span><span class="p">,</span>       <span class="s2">&quot;-t&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Total length of the exported video [dim](loop duration)[/] [medium_purple3](None to keep, default 10 or longest module)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">start</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--start&quot;</span><span class="p">,</span>      <span class="s2">&quot;-T&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Start time offset of the exported video [yellow](time is shifted by this)[/] [medium_purple3](None to keep)[/] [dim](0 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">speed</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--speed&quot;</span><span class="p">,</span>      <span class="s2">&quot;-S&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Time speed factor of the scene [yellow](duration is stretched by 1/speed)[/] [medium_purple3](None to keep)[/] [dim](1 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--format&quot;</span><span class="p">,</span>     <span class="s2">&quot;-F&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold green ](🟢 Export )[/] Output video container [green](&#39;mp4&#39;, &#39;mkv&#39;, &#39;webm&#39;, &#39;avi, &#39;...&#39;)[/] [yellow](--output one is prioritized)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;mp4&quot;</span><span class="p">,</span>
    <span class="n">loop</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--loop&quot;</span><span class="p">,</span>       <span class="s2">&quot;-l&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Exported videos loop copies [yellow](final duration is multiplied by this)[/] [dim](1 on init)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">freewheel</span><span class="p">:</span>  <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--freewheel&quot;</span><span class="p">,</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Unlock the Scene&#39;s event loop framerate, implicit when exporting [medium_purple3](use SKIP_GPU=1 for CPU only benchmark)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">raw</span><span class="p">:</span>        <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--raw&quot;</span><span class="p">,</span>              <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Send raw OpenGL frames before GPU SSAA to FFmpeg [medium_purple3](enabled if ssaa &lt; 1)[/] [dim](CPU Downsampling)[/]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="nb">open</span><span class="p">:</span>       <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--open&quot;</span><span class="p">,</span>             <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold blue  ](🔵 Special)[/] Open the directory of the exports after finishing rendering&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">batch</span><span class="p">:</span>      <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--batch&quot;</span><span class="p">,</span>      <span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Hyphenated indices range to export multiple videos, if implemented [medium_purple3](1,5-7,10)[/medium_purple3][/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="n">buffers</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>   <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--buffers&quot;</span><span class="p">,</span>    <span class="s2">&quot;-N&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Maximum number of pre-rendered frames to be piped into FFmpeg[/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">noturbo</span><span class="p">:</span>    <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span>  <span class="n">Option</span><span class="p">(</span><span class="s2">&quot;--no-turbo&quot;</span><span class="p">,</span>         <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[bold white ](🔘 Testing)[/] [dim]Disables [steel_blue1][link=https://github.com/BrokenSource/TurboPipe]TurboPipe[/link][/steel_blue1] (faster FFmpeg data feeding throughput)[/dim]&quot;</span><span class="p">)]</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="c1"># Special: Not part of the cli</span>
    <span class="n">progress</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]],</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Implementation of batch exporting</span>
    <span class="n">_reference</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">_index</span><span class="p">:</span>     <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>  <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">_started</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span>  <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">_outputs</span><span class="p">:</span>   <span class="n">Annotated</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">BrokenTyper</span><span class="o">.</span><span class="n">exclude</span><span class="p">()]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Path</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main event loop of the scene</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># -----------------------------------------------------------------------------------------|</span>
    <span class="c1"># Batch exporting implementation</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">_started</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;YYYY-MM-DD HH-mm-ss&quot;</span><span class="p">)</span>
        <span class="n">_outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">_reference</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
        <span class="n">buffers</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">buffers</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">_index</span> <span class="ow">in</span> <span class="n">hyphen_range</span><span class="p">(</span><span class="n">batch</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="nb">set</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">ShaderScene</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="o">**</span><span class="nb">locals</span><span class="p">())</span>
            <span class="k">except</span> <span class="n">ShaderBatchStop</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_minor</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Batch exporting stopped at index </span><span class="si">{</span><span class="n">_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span> <span class="ow">and</span> <span class="nb">open</span><span class="p">):</span>
            <span class="n">BrokenPath</span><span class="o">.</span><span class="n">explore</span><span class="p">(</span><span class="n">_outputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">_reference</span>
        <span class="k">return</span> <span class="n">_outputs</span>

    <span class="c1"># -----------------------------------------------------------------------------------------|</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span>  <span class="o">=</span> <span class="p">(</span><span class="n">render</span> <span class="ow">or</span> <span class="nb">bool</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span>  <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span> <span class="ow">or</span> <span class="n">freewheel</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span>   <span class="o">=</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>   <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span>      <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ShaderFlow | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>        <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">monitor_framerate</span><span class="p">,</span> <span class="n">fps</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">quality</span>    <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="p">,</span> <span class="n">quality</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start</span>      <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">loop</span>       <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span> <span class="n">loop</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span>       <span class="o">=</span> <span class="n">overrides</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">,</span> <span class="n">ssaa</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="p">(</span><span class="n">fullscreen</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">index</span>      <span class="o">=</span> <span class="n">_index</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time</span>       <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">speed</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_duration</span><span class="p">(</span><span class="n">timeparse</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">Compile</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">_reference</span>

    <span class="c1"># Set module defaults or overrides</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
        <span class="n">module</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

    <span class="c1"># Calculate the final resolution</span>
    <span class="n">_width</span><span class="p">,</span> <span class="n">_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">ratio</span><span class="o">=</span><span class="n">ratio</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Optimization: Save bandwidth by piping native frames</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span> <span class="ow">and</span> <span class="p">(</span><span class="n">raw</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">render_resolution</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ssaa</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Status tracker</span>
    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">):</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">DotMap</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="n">perf_counter</span><span class="p">(),</span>
            <span class="n">bar</span><span class="o">=</span><span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span>
                <span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">,</span>
                <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Scene #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">) → Video&quot;</span><span class="p">,</span>
                <span class="n">dynamic_ncols</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">colour</span><span class="o">=</span><span class="s2">&quot;#43BFEF&quot;</span><span class="p">,</span>
                <span class="n">leave</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">unit</span><span class="o">=</span><span class="s2">&quot; frames&quot;</span><span class="p">,</span>
                <span class="n">mininterval</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">30</span><span class="p">,</span>
                <span class="n">maxinterval</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                <span class="n">smoothing</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># Configure FFmpeg and Popen it</span>
    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">BrokenPath</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">output</span> <span class="ow">or</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">_started</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">output</span> <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">()</span> <span class="k">else</span> <span class="p">(</span><span class="n">base</span><span class="o">/</span><span class="n">output</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">suffix</span> <span class="ow">or</span> <span class="nb">format</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_name</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">BrokenPath</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Configure FFmpeg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="n">video_codec</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">audio_codec</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">quiet</span><span class="p">()</span>
            <span class="o">.</span><span class="n">pipe_input</span><span class="p">(</span><span class="n">pixel_format</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;rgba&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="k">else</span> <span class="s2">&quot;rgb24&quot;</span><span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">framerate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>
            <span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">_height</span><span class="p">)</span><span class="o">.</span><span class="n">vflip</span><span class="p">()</span>
            <span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Let any module change settings</span>
        <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="n">module</span><span class="o">.</span><span class="n">ffhook</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">)</span>

        <span class="c1"># Open the subprocess and create buffer proxies</span>
        <span class="n">_buffers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opengl</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">reserve</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">size_t</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">buffers</span><span class="p">))</span>
        <span class="n">ffmpeg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ffmpeg</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="n">fileno</span> <span class="o">=</span> <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">fileno</span><span class="p">()</span>

    <span class="c1"># Some scenes might take a while to setup</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">maximize</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span> <span class="o">==</span> <span class="n">WindowBackend</span><span class="o">.</span><span class="n">GLFW</span><span class="p">)):</span>
        <span class="n">glfw</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">_window</span><span class="p">)</span>

    <span class="c1"># Add self.next to the event loop</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
        <span class="n">task</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">,</span>
        <span class="n">frequency</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span>
        <span class="n">freewheel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">,</span>
        <span class="n">frameskip</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">noskip</span><span class="p">),</span>
        <span class="n">precise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">while</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freewheel</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()):</span>
        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">vsync</span><span class="p">):</span>
            <span class="k">continue</span>

        <span class="c1"># Only continue if exporting</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">progress</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">progress</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">)</span>
        <span class="n">status</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Write a new frame to FFmpeg</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>

            <span class="c1"># Always buffer-proxy, great speed up on Intel ARC and minor elsewhere</span>
            <span class="n">turbopipe</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">buffer</span> <span class="o">:=</span> <span class="p">(</span><span class="n">_buffers</span><span class="p">[</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">%</span> <span class="n">buffers</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_final</span><span class="o">.</span><span class="n">texture</span><span class="o">.</span><span class="n">fbo</span><span class="p">()</span><span class="o">.</span><span class="n">read_into</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>

            <span class="c1"># TurboPipe can be slower on iGPU systems, make it opt-out</span>
            <span class="k">if</span> <span class="n">noturbo</span><span class="p">:</span> <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">turbopipe</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">fileno</span><span class="p">)</span>

        <span class="c1"># Finish exporting condition</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_frames</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="n">status</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;Waiting for FFmpeg process to finish (Queued writes, codecs lookahead, buffers, etc)&quot;</span><span class="p">)</span>
            <span class="n">turbopipe</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">ffmpeg</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">ffmpeg</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Repeating video (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2"> times)&quot;</span><span class="p">)</span>
            <span class="n">output</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">temporary</span> <span class="o">:=</span> <span class="n">output</span><span class="o">.</span><span class="n">with_stem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">-loop&quot;</span><span class="p">))</span>
            <span class="p">(</span><span class="n">BrokenFFmpeg</span><span class="p">(</span><span class="n">stream_loop</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">quiet</span><span class="p">()</span><span class="o">.</span><span class="n">copy_audio</span><span class="p">()</span><span class="o">.</span><span class="n">copy_video</span><span class="p">()</span>
                <span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">temporary</span><span class="p">)</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">pixel_format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">())</span>
            <span class="n">temporary</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="n">_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

        <span class="c1"># Log stats</span>
        <span class="n">status</span><span class="o">.</span><span class="n">took</span> <span class="o">=</span> <span class="p">(</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">status</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Finished rendering (</span><span class="si">{</span><span class="n">output</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">((</span>
            <span class="sa">f</span><span class="s2">&quot;• Stats: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;(Took [cyan]</span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s[/cyan]) at &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;([cyan]</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">/</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">fps[/cyan] | &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;[cyan]</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="o">/</span><span class="n">status</span><span class="o">.</span><span class="n">took</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">x[/cyan] Realtime) with &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">frame</span><span class="si">}</span><span class="s2"> Total Frames)&quot;</span>
        <span class="p">))</span>
        <span class="k">break</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.handle" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">handle</span>


<a href="#ShaderFlow.Scene.ShaderScene.handle" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">handle</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Message.ShaderMessage" href="../message/#ShaderFlow.Message.ShaderMessage">ShaderMessage</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">ShaderMessage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Close</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;Received Window Close Event&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyDown</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">O</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(O  ) Resetting the Scene&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                <span class="n">module</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">R</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(R  ) Reloading Shaders&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">ShaderObject</span><span class="p">):</span>
                    <span class="n">module</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">TAB</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(TAB) Toggling Menu&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span>

        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(F1 ) Toggling Exclusive Mode&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span>

        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F2</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">arrow</span>
            <span class="n">time</span>  <span class="o">=</span> <span class="n">arrow</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;YYYY-MM-DD_HH-mm-ss&quot;</span><span class="p">)</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_screen</span><span class="p">())</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">)</span>
            <span class="n">path</span>  <span class="o">=</span> <span class="n">Broken</span><span class="o">.</span><span class="n">PROJECT</span><span class="o">.</span><span class="n">DIRECTORIES</span><span class="o">.</span><span class="n">SCREENSHOTS</span><span class="o">/</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.png&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_minor</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(F2 ) Saving Screenshot to (</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="n">BrokenThread</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">F11</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;(F11) Toggling Fullscreen&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullscreen</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Drag</span><span class="p">,</span> <span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Position</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_gluv</span> <span class="o">=</span> <span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">u</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.pipeline" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pipeline</span>


<a href="#ShaderFlow.Scene.ShaderScene.pipeline" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="ShaderFlow.Variable.ShaderVariable" href="../variable/#ShaderFlow.Variable.ShaderVariable">ShaderVariable</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ShaderVariable</span><span class="p">]:</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iTime&quot;</span><span class="p">,</span>        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iTau&quot;</span><span class="p">,</span>         <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iDuration&quot;</span><span class="p">,</span>    <span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iDeltatime&quot;</span><span class="p">,</span>   <span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;vec2&quot;</span><span class="p">,</span>  <span class="s2">&quot;iResolution&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iWantAspect&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">aspect_ratio</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iQuality&quot;</span><span class="p">,</span>     <span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iSSAA&quot;</span><span class="p">,</span>        <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;iFramerate&quot;</span><span class="p">,</span>   <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>   <span class="s2">&quot;iFrame&quot;</span><span class="p">,</span>       <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>  <span class="s2">&quot;iRealtime&quot;</span><span class="p">,</span>    <span class="bp">self</span><span class="o">.</span><span class="n">realtime</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;vec2&quot;</span><span class="p">,</span>  <span class="s2">&quot;iMouse&quot;</span><span class="p">,</span>       <span class="bp">self</span><span class="o">.</span><span class="n">mouse_gluv</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>  <span class="s2">&quot;iMouseInside&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_inside</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">Uniform</span><span class="p">(</span><span class="s2">&quot;bool&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;iMouse</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_resize__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_resize__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_resize__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_resize__</span><span class="p">(</span><span class="n">width</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_resize__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="c1"># Don&#39;t listen to resizes when exporting, as the final resolution might be</span>
    <span class="c1"># greater than the monitor and the window will resize down to fit</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exporting</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Shader</span><span class="o">.</span><span class="n">RecreateTextures</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_close__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_close__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_close__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_close__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">909</span>
<span class="normal">910</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_close__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Close</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_iconify__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_iconify__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_iconify__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_iconify__</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_iconify__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">Iconify</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_files_dropped_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_files_dropped_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_files_dropped_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_files_dropped_event__</span><span class="p">(</span><span class="o">*</span><span class="n">stuff</span><span class="p">:</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">915</span>
<span class="normal">916</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_files_dropped_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">stuff</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">FileDrop</span><span class="p">(</span><span class="n">files</span><span class="o">=</span><span class="n">stuff</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_key_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_key_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_key_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_key_event__</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">:</span> <span class="n">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_key_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">key_event</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_keyboard</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ACTION_PRESS</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyDown</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ACTION_RELEASE</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">KeyUp</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">Press</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">,</span> <span class="n">modifiers</span><span class="o">=</span><span class="n">modifiers</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_unicode_char_entered__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_unicode_char_entered__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_unicode_char_entered__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_unicode_char_entered__</span><span class="p">(</span><span class="n">char</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_unicode_char_entered__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_keyboard</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Keyboard</span><span class="o">.</span><span class="n">Unicode</span><span class="p">(</span><span class="n">char</span><span class="o">=</span><span class="n">char</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.mouse_gluv" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mouse_gluv</span>


<a href="#ShaderFlow.Scene.ShaderScene.mouse_gluv" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">mouse_gluv</span><span class="p">:</span> <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n">float</span><span class="p">,</span> <span class="n">float</span><span class="p">]</span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__xy2uv__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__xy2uv__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__xy2uv__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dict</span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">float</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert a XY pixel coordinate into a Center-UV normalized coordinate</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__xy2uv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a XY pixel coordinate into a Center-UV normalized coordinate&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">u</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span>  <span class="o">-</span> <span class="mf">0.5</span><span class="p">),</span>
        <span class="n">v</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__dxdy2dudv__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__dxdy2dudv__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__dxdy2dudv__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dict</span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">float</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert a dx dy pixel coordinate into a Center-UV normalized coordinate</p>

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__dxdy2dudv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a dx dy pixel coordinate into a Center-UV normalized coordinate&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">du</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">dx</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
        <span class="n">dv</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">dy</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.mouse_buttons" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mouse_buttons</span>


<a href="#ShaderFlow.Scene.ShaderScene.mouse_buttons" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">mouse_buttons</span><span class="p">:</span> <span class="n"><span title="typing.Dict">Dict</span></span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n"><span title="attr.Factory">Factory</span></span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">Falsefor</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)})</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_press_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_press_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_press_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_press_event__</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="n">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_press_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_press_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">button</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Press</span><span class="p">(</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
        <span class="n">button</span><span class="o">=</span><span class="n">button</span>
    <span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_release_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_release_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_release_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_release_event__</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="n">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_release_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_release_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">button</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mouse_buttons</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Release</span><span class="p">(</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
        <span class="n">button</span><span class="o">=</span><span class="n">button</span>
    <span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.mouse_inside" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mouse_inside</span>


<a href="#ShaderFlow.Scene.ShaderScene.mouse_inside" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">mouse_inside</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_enter_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_enter_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_enter_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_enter_event__</span><span class="p">(</span><span class="n">inside</span><span class="p">:</span> <span class="n">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_enter_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inside</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mouse_inside</span> <span class="o">=</span> <span class="n">inside</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Enter</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">inside</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_scroll_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_scroll_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_scroll_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_scroll_event__</span><span class="p">(</span><span class="n">dx</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="n">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_scroll_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_scroll_event</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">+=</span> <span class="p">(</span><span class="n">dy</span><span class="p">)</span><span class="o">*</span><span class="mf">0.2</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Scroll</span><span class="p">(</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">)</span>
    <span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_position_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_position_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_position_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_position_event__</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="n">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_position_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_position_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Position</span><span class="p">(</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">),</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
    <span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__window_mouse_drag_event__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__window_mouse_drag_event__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__window_mouse_drag_event__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__window_mouse_drag_event__</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="n">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__window_mouse_drag_event__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dy</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imgui</span><span class="o">.</span><span class="n">mouse_drag_event</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imguio</span><span class="o">.</span><span class="n">want_capture_mouse</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_ui</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># Rotate the camera on Shift</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_CTRL</span><span class="p">):</span>
        <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">cy</span><span class="o">+</span><span class="n">dy</span><span class="p">,</span> <span class="n">cx</span><span class="o">+</span><span class="n">dx</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">cy</span><span class="p">,</span> <span class="n">cx</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">):</span> <span class="n">angle</span> <span class="o">-=</span> <span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">base_z</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
        <span class="k">return</span>

    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">apply_zoom</span><span class="p">(</span><span class="o">-</span><span class="n">dy</span><span class="o">/</span><span class="mi">500</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">base_z</span><span class="p">,</span> <span class="n">angle</span><span class="o">=-</span><span class="n">dx</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Time Travel on Alt</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="n">ShaderKeyboard</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">LEFT_ALT</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_drag_time_factor</span> <span class="o">*</span> <span class="p">(</span><span class="n">dy</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">relay</span><span class="p">(</span><span class="n">ShaderMessage</span><span class="o">.</span><span class="n">Mouse</span><span class="o">.</span><span class="n">Drag</span><span class="p">(</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__dxdy2dudv__</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">),</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">__xy2uv__</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
    <span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-attribute">



<h4 id="ShaderFlow.Scene.ShaderScene.render_ui" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">render_ui</span>


<a href="#ShaderFlow.Scene.ShaderScene.render_ui" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">render_ui</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Whether to render the Main UI</p>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ShaderFlow.Scene.ShaderScene.__ui__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">__ui__</span>


<a href="#ShaderFlow.Scene.ShaderScene.__ui__" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><span class="filename">Python</span><pre><span></span><code><span class="nf">__ui__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>Projects/ShaderFlow/ShaderFlow/Scene.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__ui__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="c1"># Render status</span>
    <span class="n">imgui</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resolution: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">render_resolution</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s2"> @ </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">x SSAA&quot;</span><span class="p">)</span>

    <span class="c1"># Framerate</span>
    <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Framerate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.0f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">fps</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">240</span><span class="p">]):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fps</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="n">fps</span>
        <span class="k">if</span> <span class="n">fps</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

    <span class="c1"># Temporal</span>
    <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Time Scale&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s2">x&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">scale</span>
        <span class="k">if</span> <span class="n">scale</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

    <span class="c1"># SSAA</span>
    <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;SSAA&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">ssaa</span> <span class="ow">in</span> <span class="p">(</span><span class="n">options</span> <span class="o">:=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ssaa</span><span class="si">}</span><span class="s2">x&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ssaa</span> <span class="o">=</span> <span class="n">ssaa</span>
        <span class="k">if</span> <span class="n">ssaa</span> <span class="o">!=</span> <span class="n">options</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">imgui</span><span class="o">.</span><span class="n">same_line</span><span class="p">()</span>

    <span class="c1"># Quality</span>
    <span class="n">imgui</span><span class="o">.</span><span class="n">spacing</span><span class="p">()</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">state</span> <span class="o">:=</span> <span class="n">imgui</span><span class="o">.</span><span class="n">slider_float</span><span class="p">(</span><span class="s2">&quot;Quality&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">quality</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%.0f%%</span><span class="s2">&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>




  </div>

    </div>

</div>




  </div>

    </div>

</div>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      

  <!-- Found any issues footer -->
  <div style="height: 2rem;"></div>
  <footer class="md-footer">
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-custom">
          Found any issues on this page? Please, <b><a href="https://brokensrc.dev/about/contact/">let me know</a> !</b>
        </div>
        <div class="md-footer-custom">
          <sup>
            ❤️ Consider <b><a href="https://brokensrc.dev/about/sponsors/" target="_blank">Supporting</a></b> my <b>full time open source</b> work ❤️
          </sup>
        </div>
      </div>
    </div>
    
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../module/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Module">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Module
              </div>
            </div>
          </a>
        
        
          
          <a href="../shader/" class="md-footer__link md-footer__link--next" aria-label="Next: Shader">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Shader
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © CC-BY-SA-4.0, <a href="https://github.com/Tremeschin/" target="_blank">Tremeschin</a> 🇧🇷
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://discord.gg/KjqvcYwRHm" target="_blank" rel="noopener" title="Discord" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/BrokenSource" target="_blank" rel="noopener" title="Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.patreon.com/Tremeschin" target="_blank" rel="noopener" title="Patreon" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M489.7 153.8c-.1-65.4-51-119-110.7-138.3C304.8-8.5 207-5 136.1 28.4 50.3 68.9 23.3 157.7 22.3 246.2 21.5 319 28.7 510.6 136.9 512c80.3 1 92.3-102.5 129.5-152.3 26.4-35.5 60.5-45.5 102.4-55.9 72-17.8 121.1-74.7 121-150z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/Tremeschin" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/@Tremeschin" target="_blank" rel="noopener" title="YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/Tremeschine" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
  </footer>

  <style>
    .md-footer-custom {
      font-size: 0.8rem;
      text-align: center;
      padding: 0.5rem 0;
      color: var(--md-footer-fg-color--light);
      width: 100%;
    }

    /* Footer layers separation */
    .md-footer {
      box-shadow: 0 0px 16px rgba(0, 0, 0, 0.4);
    }

    /* Nice underline on links */
    .md-footer-custom a {
      text-decoration: underline;
    }
  </style>


    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "toc.follow", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../javascript/video.js"></script>
      
        <script src="../../../javascript/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.9.3/tsparticles.bundle.min.js"></script>
      
    
  </body>
</html>